<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shortest Path Finder</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>Shortest Path Finder</h1>
        
        <!-- Screen 1: QR Code Scanner -->
        <div id="qrScreen">
            <p>Click below to scan the QR code for the Start Node:</p>
            <button id="scanButton">Scan QR Code</button>
            <video id="camera" style="display:none; width: 100%; max-height: 300px; margin-top: 10px; border-radius: 5px; border: 2px solid #0077b6;" autoplay></video>
            <p id="scanMessage" style="margin-top: 10px;">Awaiting QR code scan...</p>
        </div>

        <!-- Screen 2: End Node Input -->
        <div id="endNodeScreen" style="display: none;">
            <form id="pathForm">
                <label for="end">End Node:</label>
                <input type="number" id="end" name="end" required>
                <button type="submit">Find Path</button>
            </form>
        </div>
        
        <!-- Path Info -->
        <div id="result">
            <p id="pathInfo"></p>
            <div id="currentStep"></div>
            <button id="nextButton" style="display:none;">Next Step</button>
        </div>
        <button type="submit" onclick="location.href='{{ url_for('select') }}'">Home</button>
    </div>
    <svg
   version="1.1"
   id="svg1"
   width="1385.6"
   height="589.59998"
   viewBox="0 0 1385.6 589.59998"
   sodipodi:docname="onlyfirst.svg"
   inkscape:export-filename="ground.svg"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xml:space="preserve"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
   <g
     inkscape:groupmode="layer"
     id="layer3"
     inkscape:label="01"
     style="display:inline"><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1233.7534,416.18243 16.1895,13.95648 42.7069,-50.80161 -15.6313,-13.11909 z"
       id="path21" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1251.0594,430.69717 30.7043,24.28429 42.7069,-49.68509 -30.146,-24.84255 z"
       id="path35" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 103.55713,379.05817 16.46865,-13.39822 42.42772,50.24335 -16.46865,13.11909 z"
       id="path22" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 624.4132,107.18582 47.17293,0.55826 -1.95391,84.29717 h -45.49814 z"
       id="path23" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1211.1439,365.38082 36.2869,30.14601 -18.4226,21.49299 -34.333,-30.9834 z"
       id="path24" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.04083"
       d="m 895.58691,192.63754 32.07335,-0.39475 -0.42763,-84.87105 h -50.88974 v 85.2658 z"
       id="path7" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 180.79506,354.8794 37.50116,-30.39568 22.5007,26.84293 -38.68541,30.39568 z"
       id="path13" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.01653"
       d="m 843.67181,193.31831 30.59305,-0.39475 -0.4079,-84.87105 h -48.54098 v 85.2658 z"
       id="path7-2" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 743.20819,193.52788 29.60617,-0.39475 -0.39474,-84.87105 h -46.97514 v 85.2658 z"
       id="path7-1" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.00933"
       d="m 792.88489,193.31831 30.16129,-0.39475 -0.40215,-84.87105 h -47.85592 v 85.2658 z"
       id="path7-3" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 931.21301,192.24279 -0.39475,-105.397999 138.16214,51.317379 -69.47581,81.3183 -26.84293,-23.29019 -5.92124,-3.158 z"
       id="path6" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.12845"
       d="m 464.68871,106.1875 h 55.19579 v 86.84478 l -55.65962,-0.8556 z"
       id="path10" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="M 332.3787,136.58317 459.88264,89.608034 459.48789,192.63754 h -32.36942 l -27.23768,23.29019 z"
       id="path11" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 218.69097,323.69422 38.29066,-32.36942 22.10595,26.44818 -38.68541,31.97468 z"
       id="path14" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 149.05528,395.52683 36.28686,-30.42514 17.30604,21.21386 -35.7286,31.26253 z"
       id="path17" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 115.28058,455.81885 30.14601,-25.40081 -42.98598,-49.96422 -29.86688,24.84255 z"
       id="path19" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 146.64927,314.81237 115.26672,-96.31877 22.10595,26.25081 -116.25359,96.51614 z"
       id="path71" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 261.71862,218.09885 79.54193,-66.51522 22.10595,26.44819 -80.72618,67.30471 z"
       id="path72" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1057.9017,153.80048 192.3204,161.33698 -21.7722,26.2382 -193.4369,-162.17437 z"
       id="path73" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1001.0836,221.45422 77.3708,64.34409 22.5007,-26.64556 -76.9761,-65.72572 z"
       id="path74" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 1116.5477,318.56248 76.976,64.54147 23.2902,-27.23768 -76.7786,-65.1336 z"
       id="path75" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="M 318.48702,285.82884 398.87638,218.27945 375.15036,191.20386 295.31925,258.195 Z"
       id="path76" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 523.78694,107.32538 -0.34892,86.25109 h 47.17293 l -0.19858,-87.78373 z"
       id="path78" /><path
       style="display:inline;fill:#b5b5b5;fill-opacity:1"
       d="m 573.96512,107.17437 v 88.42378 l 46.99385,-1.98679 v -86.11152 z"
       id="path79" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 262.8647,218.31598 22.03075,26.3759 -28.91537,24.57313 -1.38162,-1.67768 28.12587,-23.2902 -21.31645,-25.16525 z"
       id="path70-2" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 374.22031,190.8643 -30.63449,25.74971 1.25608,1.53522 30.70427,-25.8195 z"
       id="path68-6" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 295.81266,257.38116 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
       id="path65-0-9-1-4" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 257.06254,289.71166 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
       id="path65-0-9-1" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 222.7428,248.9853 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
       id="path65-0-9" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 167.89339,340.66616 27.70362,-23.37712 1.15142,1.36076 -27.94787,23.23755 z"
       id="path65-0" /><path
       style="display:inline;fill:#272727"
       d="m 1040.5773,253.35881 21.9678,-26.26826 27.871,23.6918 1.2296,-1.5666 -29.1186,-24.5263 -23.2459,27.84344 z"
       id="path37-1" /><path
       style="display:inline;fill:#272727"
       d="m 1077.7768,284.45498 23.0928,-27.139 1.3816,1.28294 -23.1915,27.23768 z"
       id="path38-7" /><path
       id="path20"
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 674.82422,60.199219 -3.84961,0.04883 -0.0156,43.658201 -205.78906,0.0703 -0.69726,-20.027339 -139.14649,51.777339 13.1875,15.00391 -196.64648,164.47656 40.40429,47.5918 -35.24023,29.3789 -39.8457,-47.59179 -53.662112,44.93945 81.644532,95.11328 3.07031,-3.27929 -79.617186,-92.72852 47.886716,-38.68555 40.4375,47.17188 40.46094,-33.94727 -39.57227,-48.06054 195.99219,-164.31446 -11.25,-14.4082 126.71485,-46.976562 0.19726,17.960932 215.73047,0.5918 z M 1295.875,401.90625 c -0.021,0.13134 -0.072,0.4035 -0.08,0.4668 -0.039,0.30664 -0.2215,1.16773 -0.029,0.92578 0.2094,-0.26376 0.1944,-0.88026 0.1094,-1.39258 z m -7.6309,9.96875 c -0.1863,0.0367 -0.4645,0.1736 -0.3632,0.29492 0.1384,0.16593 0.3884,0.0421 0.6582,-0.1582 -0.063,-0.0198 -0.1259,-0.0438 -0.1895,-0.0625 -0.034,-0.0257 -0.071,-0.0489 -0.1055,-0.0742 z" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 139.56486,487.08138 125.60838,-105.23191 32.37905,39.35729 80.66849,-68.10765 -33.77469,-38.79903 98.53279,-81.22676 h 126.16664 l 1.39565,43.54424 -23.16777,-1.11652 v 91.27542 l 54.98856,-0.83738 v 39.63642 l 48.01031,-0.83739 0.55826,91.55455 3.62869,-0.83739 -0.65742,-94.98236 h -46.77776 l -0.19738,-38.29066 -55.65961,0.19738 0.19737,-82.69993 22.89545,-0.19737 -0.59213,-50.52788 h -133.2278 l -101.64788,85.26579 33.35629,38.29066 -74.21282,61.9756 -32.76417,-39.08015 -130.26719,109.54286 3.55275,3.94749 z"
       id="path33" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 746.11377,495.17614 -0.13957,-90.5776 h 48.28945 l -0.27913,-38.5199 55.68638,0.69782 -0.27913,-91.13585 -23.72603,0.69782 0.69782,-43.12554 128.67881,0.27913 96.85803,80.94762 -33.4956,39.07816 81.0872,67.40983 31.8208,-38.9386 127.981,105.92974 83.3202,-98.5328 -53.3138,-44.93988 -39.9155,47.73118 -35.7286,-29.58775 41.032,-48.14988 -193.8556,-162.03481 -2.7913,2.93086 189.9478,159.38308 -39.4968,48.98727 41.4507,34.47252 40.3343,-48.56857 47.1729,39.49685 -79.552,93.3689 -126.7249,-106.48799 -32.2395,38.79903 -74.8067,-62.52506 33.2164,-38.24077 -101.60321,-85.4137 -133.98227,0.41869 0.97696,50.80161 22.46994,-0.13956 -0.55826,83.04109 -55.26768,-0.41869 0.55825,37.82208 -47.59161,-0.69783 0.83739,96.71845 h 3.07042 z"
       id="path34" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 1060.9721,152.5444 14.7939,-16.74779 -148.77617,-54.290729 0.69783,22.190809 -202.36906,0.55826 -0.13956,-43.823364 -3.76825,0.139565 0.27913,47.172929 209.48686,0.27913 -0.27913,-21.353429 137.75055,51.778569 -13.6774,14.93344 3.21,2.51216 z"
       id="path42" /><path
       style="display:inline;fill:#272727"
       d="m 1101.5855,309.834 92.5315,76.76067 17.306,-20.79516 -3.3495,-2.51217 -15.073,18.14343 -88.7633,-74.80676 z"
       id="path18" /><path
       style="display:inline;fill:#272727"
       d="M 1088.3966,299.29685 968.12204,197.37452 H 957.5625 l -0.0987,-4.6383 11.64509,0.29606 30.79043,25.75738 55.75828,-66.12047 3.158,2.46719 -56.2517,66.41652 89.0159,74.31151 z"
       id="path27" /><path
       style="display:inline;fill:#272727"
       d="m 941.08173,196.97978 h -46.77776 v -4.14487 l 33.15892,-0.39475 -0.39475,-85.26579 h 4.53961 v 85.85791 h 9.27661 z"
       id="path28" /><path
       style="display:inline;fill:#272727"
       d="m 880.8825,196.97978 -109.74023,1.18424 0.78949,-24.86919 h 3.94749 l -0.19737,19.54008 46.97514,-0.39475 -0.19738,-19.14533 3.55274,-0.19737 v 19.73745 l 46.97514,-0.59212 0.19737,-40.06703 3.55275,-0.19738 0.39475,40.65916 3.75011,-0.19738 z"
       id="path29" /><path
       style="display:inline;fill:#272727"
       d="m 872.79015,138.95167 h 4.34224 l -0.39475,-31.38255 h -3.94749 z"
       id="path30" /><path
       style="display:inline;fill:#272727"
       d="m 822.45964,107.56912 0.39475,52.10687 3.35537,-0.19737 v -52.10688 z"
       id="path31" /><path
       style="display:inline;fill:#272727"
       d="m 772.12914,107.56912 v 52.50162 l 3.55274,-0.19738 0.19737,-52.30424 z"
       id="path36" /><path
       style="display:inline;fill:#272727"
       d="m 1155.2331,349.55028 22.1059,-26.15212 -28.1258,-23.38888 1.3322,-1.48031 29.1621,24.47444 -23.4382,27.68178 z"
       id="path37" /><path
       style="display:inline;fill:#272727"
       d="m 1116.5477,316.8848 23.0928,-27.139 1.3816,1.28294 -23.1915,27.23768 z"
       id="path38" /><path
       style="display:inline;fill:#272727"
       d="m 1188.0466,332.57607 27.0403,22.64873 1.1843,-1.1349 -27.139,-23.19151 z"
       id="path40" /><path
       style="display:inline;fill:#272727"
       d="m 1199.7904,318.8092 27.435,22.64873 0.8389,-1.13491 -27.1883,-22.94478 z"
       id="path41" /><path
       style="display:inline;fill:#272727"
       d="m 1212.1906,284.43319 -22.1908,26.30798 -29.5877,-25.19146 1.0467,-1.11652 28.541,24.07494 21.2139,-25.33102 z"
       id="path43" /><path
       style="display:inline;fill:#272727"
       d="m 1172.4844,251.07719 -22.2606,26.16841 1.2561,0.83739 22.121,-26.16841 z"
       id="path44" /><path
       style="display:inline;fill:#272727"
       d="m 1135.0113,219.60531 -21.4232,25.0519 28.3316,23.30733 -1.1165,1.1863 -29.0295,-24.35407 22.4002,-26.16841 z"
       id="path45" /><path
       style="display:inline;fill:#272727"
       d="m 1096.3518,187.01692 -21.5628,25.12167 28.541,23.51668 -1.4654,1.18631 -28.9597,-24.35407 22.6095,-26.37776 z"
       id="path46" /><path
       style="display:inline;fill:#272727"
       d="m 1036.4136,181.58456 27.139,22.55004 0.9376,-1.1349 -27.1884,-22.69807 -1.3323,1.18425 z"
       id="path47" /><path
       style="display:inline;fill:#272727"
       d="m 1024.5712,195.00603 27.583,23.14216 0.8389,-1.03621 -27.3364,-23.2902 z"
       id="path48" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 822.66509,276.33843 -29.16905,0.34891 0.13956,-15.28235 -4.04738,-0.0698 -0.0698,18.84126 33.70491,-0.62805 z"
       id="path54" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 822.26227,228.95445 -100.95707,0.0987 v 4.44092 l 68.29158,-0.39475 -0.19737,14.60572 h 4.24355 l -0.29606,-14.60572 28.81668,0.19738 z"
       id="path55" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 573.66905,276.02827 h 29.5075 l -0.0987,-27.33637 3.94749,-0.0987 v 31.38255 l -33.3563,-0.49343 z"
       id="path56" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 573.5767,229.09573 101.53344,-0.24424 -0.17445,4.43118 H 573.50692 Z"
       id="path57" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 502.01482,193.01821 -37.26382,-0.4187 0.27913,-86.11152 -5.44303,-0.0698 -0.0698,86.39065 h -1.88413 l -0.0698,4.67542 44.59097,-0.41869 z"
       id="path58" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 441.58323,197.34472 -12.83997,-0.27913 -120.7236,102.30104 -2.93087,-3.76825 91.13586,-76.90024 -55.82595,-66.43287 3.07043,-2.23304 56.52377,66.29331 27.77341,-23.72603 13.67736,0.27913 z"
       id="path59" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 294.76099,309.834 -92.81063,77.17937 -17.58517,-21.91168 2.79129,-2.37261 15.77083,18.98082 89.04239,-75.36502 z"
       id="path60" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 146.9618,397.06204 19.67865,23.72603 2.51217,-2.23304 -20.09734,-23.58646 z"
       id="path61" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 117.79275,458.19145 15.98017,-13.04931 -2.58195,-3.41934 -16.18952,13.53779 z"
       id="path62" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 141.16986,433.7676 2.44239,2.86108 5.58259,-4.81499 -45.42836,-52.96487 -1.53522,1.605 42.63707,50.31313 z"
       id="path63" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 156.59178,420.85785 2.65173,2.72151 6.07107,-5.02433 -2.7913,-3.27978 z"
       id="path64" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 179.86422,354.25052 27.70362,-23.37712 1.15142,1.36076 -27.94787,23.23755 z"
       id="path65" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 184.05174,284.318 22.89545,26.3495 29.21143,-24.86919 -1.08556,-1.18425 -28.42193,23.68495 -21.41514,-25.46132 z"
       id="path66" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 240.40217,350.53716 -23.78363,-27.43506 29.65552,-24.96788 1.18425,1.33228 -28.37259,24.22772 22.25398,25.80672 z"
       id="path67" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 362.03126,177.45673 -30.63449,25.74971 1.25608,1.53522 30.70427,-25.8195 z"
       id="path68" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 304.80966,249.12328 29.37841,-24.35407 23.30733,27.49428 -1.67478,1.32587 -21.8419,-26.2382 -27.84319,23.09799 z"
       id="path69" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 301.56478,185.9004 22.03075,26.3759 -28.91537,24.57313 -1.38162,-1.67768 28.12587,-23.2902 -21.31645,-25.16525 z"
       id="path70" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 520.01869,106.76712 -0.27913,32.37905 4.32651,0.13956 v -32.37904 z"
       id="path77" /><path
       style="display:inline;fill:#272727"
       d="m 725.3186,107.46495 0.69783,87.7863 -4.74521,-0.13957 0.41869,-87.92586 z"
       id="path49" /><path
       style="display:inline;fill:#272727"
       d="m 671.307,107.04625 0.41869,88.62369 3.62869,-0.13956 -0.27913,-88.76326 z"
       id="path50" /><path
       style="display:inline;fill:#272727"
       d="m 620.78452,159.52264 3.76825,0.13957 v -52.75552 l -3.76825,0.13956 z"
       id="path51" /><path
       style="display:inline;fill:#272727"
       d="m 620.50539,173.75826 0.20935,19.39951 -46.40532,-0.0698 -0.20935,-19.4693 -4.04738,-0.0698 0.0698,19.53908 -46.40532,-0.0698 v -40.61338 l -4.32651,0.0698 0.48848,40.5436 -4.60564,-0.13957 -0.20935,4.53586 109.83755,-0.55826 -0.34891,-23.16777 z"
       id="path52" /><path
       style="display:inline;fill:#272727"
       d="m 574.16249,107.27305 0.19738,45.29746 32.76417,-0.59213 -0.0987,7.7963 -37.40247,0.19737 0.49343,-53.29112 z"
       id="path53" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 1237.1435,423.56573 -8.0923,-7.89498 18.3558,-20.52695 3.158,2.76324 -16.1847,18.55321 5.5265,4.73698 z"
       id="path81" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 1279.3817,458.69839 -15.9874,-13.22409 2.5659,-2.96062 16.3821,13.81622 z"
       id="path82" /><path
       style="display:inline;fill:#272727;fill-opacity:1"
       d="m 1253.3282,436.9872 -5.9212,-5.72386 45.1988,-52.30425 2.1711,1.77637 -43.0277,50.3305 3.7501,3.35537 z"
       id="path83" /><path
       style="display:inline;fill:#a7a082;fill-opacity:1"
       d="m 1052.7957,318.56248 17.1783,14.16016 -14.8636,17.16648 36.3566,30.21579 -9.63,20.86495 -58.2683,-48.84771 z"
       id="path87" /><path
       style="display:inline;fill:#ebebcd;fill-opacity:1"
       d="m 116.9793,458.05189 15.91039,-12.83997 -1.67478,-3.07043 10.60693,-8.65302 1.95391,3.07043 5.02434,-5.02434 -1.95391,-2.7913 9.49041,-7.81563 2.7913,1.95391 4.7452,-3.62869 130.63271,-109.69798 -2.79129,-2.7913 -12.56084,10.3278 -22.60951,-26.79645 -1.39565,1.11652 1.39565,1.39565 -8.93215,7.5365 -1.67478,-2.23304 -29.58775,25.12168 1.67478,2.23303 -9.21128,7.60629 -1.88413,-2.30282 -26.65689,22.81886 -10.53714,-12.56084 27.49427,-22.67929 -1.74456,-1.81435 9.1415,-7.46672 1.46543,1.39565 30.14601,-24.35407 -0.97695,-1.1863 8.93215,-7.67607 0.90717,0.97696 1.46543,-1.25609 -0.90717,-0.97695 8.93215,-7.67607 1.04674,1.11652 29.44819,-24.91233 -0.62805,-0.90717 9.00194,-7.60628 0.97695,1.04673 29.51797,-25.19146 -0.90717,-0.83738 8.65302,-7.18759 0.83739,0.90717 27.07558,-22.81886 10.60693,12.28171 -27.21514,22.60951 0.83738,0.90717 -9.28106,7.60628 -0.83739,-0.97695 -29.51797,24.77276 0.97696,0.97696 -8.86237,7.67607 -0.76761,-0.83739 -1.74456,1.81434 23.4469,26.51732 -12.97953,10.7465 3.76825,3.69847 121.42143,-102.64996 11.72345,0.27913 v -4.60564 l 16.32909,-0.4187 v 5.1639 l 44.38162,-0.27913 v -4.46607 l 13.39823,0.27913 0.13957,4.18694 109.69798,0.27913 -0.27913,-5.58259 43.82337,0.13956 -0.27913,2.93087 14.37518,0.13956 0.0698,-3.62869 31.4021,-0.0698 0.0698,3.55891 62.24593,-0.20935 0.0698,2.7913 104.883,-0.27913 -0.13957,-4.46608 h 12.07236 l -0.0698,4.74521 48.01031,0.20934 -0.0698,-5.23368 15.70105,0.20935 0.0698,5.23368 h 9.83932 l 1.53522,-0.0698 119.88622,101.04496 2.7913,-2.93086 -11.5141,-10.7465 22.6793,-26.79645 -1.7445,-1.25608 -1.1165,1.04673 -9.0718,-7.60628 1.3259,-1.32587 -29.3784,-24.84254 -1.3259,1.46543 -9.7695,-8.65303 1.3956,-1.67477 -26.3079,-21.77212 10.1184,-12.14215 26.7267,22.67929 1.3259,-1.53521 8.7228,8.37389 -0.8374,1.1863 29.3784,24.6332 1.5352,-1.60499 9.2113,7.60628 -1.5352,1.46543 29.5179,24.6332 1.1863,-1.1863 8.7926,7.67607 0.2791,0.13956 -1.1165,1.11652 1.3259,1.25609 1.2561,-1.32587 9.0019,7.5365 -1.1165,1.11652 29.8669,25.33102 1.0467,-1.1863 9.1415,7.88542 -0.977,1.11652 27.0059,22.53972 -10.8861,12.42128 -26.5173,-22.81886 -1.3259,1.32587 -8.8624,-7.39694 1.2561,-1.39565 -29.7971,-24.91233 -0.9769,1.11652 -9.1415,-7.39694 1.256,-1.39565 -2.0236,-1.39565 -22.7491,27.56407 -12.2817,-10.53715 -2.8611,3.83803 135.7268,113.74537 2.582,-2.37261 9.2113,7.88542 -2.1633,2.09347 5.7222,5.37325 2.861,-2.58195 10.2581,8.30411 -2.3726,3.27977 15.7708,12.77019 -20.9347,23.4469 -127.0041,-106.55778 -32.3092,39.00838 -16.9572,-13.95649 9.3509,-20.44625 -36.2171,-30.28557 14.7241,-17.16648 -17.0967,-14.02627 4.815,-5.30347 -101.88242,-84.92522 -234.12006,0.0698 v 2.16325 h -46.4751 v -2.16325 h -234.5388 l -101.74278,85.41369 5.09411,5.30347 -16.53843,14.09605 13.60757,16.25931 -35.58904,30.28557 8.65302,20.93473 -16.11974,13.67736 -32.65818,-39.14795 -126.86446,106.20887 z"
       id="path25" /><path
       style="display:inline;fill:#a7a082;fill-opacity:1"
       d="m 312.15083,398.83461 58.7917,-49.58042 -29.20395,-33.28622 -16.64311,14.27051 13.67735,16.15463 -35.55415,30.35536 z"
       id="path86" /><path
       style="display:inline;fill:#a7a082;fill-opacity:1"
       d="m 794.01304,279.8524 -0.71548,21.16842 30.00093,-0.44409 -0.41943,38.34 22.08128,3.35537 0.49344,-63.43124 z"
       id="path85" /><path
       style="display:inline;fill:#a7a082;fill-opacity:1"
       d="m 551.17654,340.60805 22.19082,-1.01184 0.31402,-38.72925 29.7622,-0.76761 0.0349,-20.34158 -52.33682,-0.34891 z"
       id="path84" /><path
       style="display:inline;fill:#ebebcd;fill-opacity:1"
       d="m 548.70119,340.66843 0.7895,22.10595 55.26486,-0.39475 0.39475,37.89591 187.90055,0.39475 -1.18425,-38.29066 56.44912,0.39475 0.39474,-20.1322 -25.65868,-3.94749 0.39475,-38.29066 -30.00093,0.39475 0.7895,-22.89545 -2.76325,-0.78949 0.7895,-16.97421 -0.7895,-30.79043 -186.32155,0.7895 0.39475,46.58039 h -2.36849 v 23.29019 l -29.60618,0.7895 -0.39475,38.68541 z"
       id="path2" /><path
       style="display:inline;fill:#ebebcd;fill-opacity:1"
       d="m 652.91493,398.69654 v 91.97653 l 91.97653,1.18425 0.39474,-93.55553 z"
       id="path1" /><path
       style="display:inline;fill:#ebebcd;fill-opacity:1"
       d="m 358.40257,181.71345 6.69912,-4.7452 10.3278,14.79387 -5.86173,4.74521 z"
       id="path88" /></g>
       <path
     style="display:inline;fill:#9dcffa"
     d="m 240.40217,367.11662 65.72572,-54.87012 -21.11908,-22.40201 5.4278,-4.73699 26.25081,29.60618 -70.56139,59.80448 z"
     id="133-135" /><path
     style="display:inline;fill:#9dcffa"
     d="m 337.74697,334.4672 -18.70169,-22.05125 -6.90846,6.00129 -27.28493,-28.47123 5.44303,-4.81499 20.58582,22.88864 8.51345,-7.04803 24.42385,28.6108 z"
     id="132-135" /><path
     style="display:inline;fill:#9dcffa"
     d="m 337.60741,334.39742 -18.56213,-21.91169 -72.99242,61.9668 -5.5826,-7.25737 78.99371,-66.15375 24.28429,28.47124 z"
     id="132-133" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 377.23206,252.56538 -136.63252,114.35386 5.52649,7.50023 136.48449,-115.95753 z"
     id="131-133" /><path
     style="display:inline;fill:#9dcffa"
     d="m 377.18272,252.63939 -66.21916,55.46224 -20.72432,-22.99413 -5.4278,4.83568 27.33637,28.42193 70.26533,-59.7058 z"
     id="131-135" /><path
     style="display:inline;fill:#9dcffa"
     d="m 377.08403,252.63939 -63.5546,53.19244 24.17838,28.71799 6.2173,-4.93436 -18.94796,-22.30333 57.13993,-48.45544 z"
     id="131-132" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 377.05037,252.66794 57.27775,-44.83982 16.62923,-0.23704 0.19887,-24.53881 4.5962,-0.0221 -0.0663,32.52691 -17.52207,-0.22896 -55.88281,43.4375 z"
     id="131-150" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 479.81884,207.24914 27.8328,-0.0187 0.29002,-23.80523 h 6.90441 l 0.27131,32.61349 -35.36403,-0.14968 z"
     id="130-149" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 479.92868,207.25382 -0.13957,8.65303 -41.61767,-0.57124 -55.65961,43.42239 -5.4278,-6.11861 57.23861,-44.80402 z"
     id="130-131" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 480.03866,207.27318 -24.3104,0.27066 v -24.47415 l -4.56552,0.0748 -0.29938,32.33283 29.48874,0.11227 z"
     id="130-150" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 728.41983,207.74949 0.0926,8.22954 30.1926,-0.15877 -0.63507,-42.65599 -6.03323,0.21169 0.95261,33.87076 z"
     id="129-151" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1166.7795,392.23252 7.5193,-8.70827 -85.5533,-71.03852 22.1908,-28.05254 -5.0941,-4.18694 -27.913,34.96099 z"
     id="111-113" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1166.6808,392.18318 -96.9161,-84.44266 -15.4917,21.91169 -5.1639,-3.76825 21.2138,-29.02949 104.1154,86.80934 z"
     id="110-111" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1018.1565,253.62626 65.4296,54.47537 22.3034,-27.82981 5.033,4.24356 -27.7311,35.03397 -70.364,-61.38347 z"
     id="109-113" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1013.9129,258.56063 -56.44909,-43.12634 -13.42147,-0.0987 -0.98687,-29.21142 6.90811,-0.29607 0.69081,21.11908 9.2766,-0.0987 58.42291,46.67907 z"
     id="109-151" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1018.0578,253.72495 156.241,129.7993 -7.5365,8.65302 L 1012.6827,258.195 Z"
     id="109-111" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 1012.6827,258.26478 52.5476,45.5933 -16.086,21.80988 5.1317,3.84881 20.7243,-28.61931 -56.9425,-47.36989 z"
     id="109-110" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 917.08072,207.39339 -25.95907,-0.13957 0.13957,-21.35342 -8.37389,0.13956 0.55826,29.86688 33.77469,-0.13956 z"
     id="108-126" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 916.90335,207.14456 43.02764,-0.29606 58.52151,46.77776 -4.4409,5.03305 -56.64648,-43.12633 h -40.36309 z"
     id="108-109" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 917.04583,207.39339 26.60177,-0.34752 -0.59213,-20.92169 7.0068,-0.19738 0.88818,29.70487 -33.84973,-0.0987 z"
     id="108-151" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 799.36682,207.39128 0.0987,8.53645 91.93527,-0.30002 V 185.9004 l -8.37389,-0.13957 0.69783,21.63256 z"
     id="107-126" /><rect
     style="display:inline;fill:#9dcffa"
     width="118.21144"
     height="8.6530218"
     x="799.00885"
     y="207.25383"
     id="107-108" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 799.24412,207.24672 -40.69495,0.37197 -0.52391,-34.4659 -6.06241,0.24324 1.08525,42.45555 46.08551,-0.13097 z"
     id="107-129" /><rect
     style="display:inline;fill:#9dcffa;fill-opacity:1;stroke-width:1.09138"
     width="118.52343"
     height="8.698514"
     x="479.71878"
     y="207.22923"
     id="106-130" /><rect
     style="display:inline;fill:#9dcffa"
     width="201.39207"
     height="8.6530085"
     x="598.03546"
     y="207.25383"
     id="106-107" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 598.13648,207.29964 46.12511,0.31905 0.29938,-42.362 h 7.18507 l -0.44906,50.59489 -53.43899,-0.29937 z"
     id="106-148" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 598.13648,207.35257 130.40243,0.42338 0.10584,8.15015 -130.5612,-0.4763 z"
     id="106-151" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 598.23221,207.24446 -83.18495,0.10811 -0.21169,-23.92123 h -6.88 l -0.42338,32.60061 90.9994,-0.10552 z"
     id="106-149" /><path
     style="display:inline;fill:#9dcffa"
     d="m 597.96566,207.32361 103.48735,0.62804 v 47.45205 h -7.5365 l -0.83739,-39.07816 -96.02063,-1.11652 z"
     id="105-106"
     sodipodi:insensitive="true" /><path
     style="display:inline;fill:#9dcffa"
     d="m 693.96883,255.40263 -0.7895,-47.56726 106.38487,-0.39475 0.19737,8.28973 h -98.29251 l 0.19737,39.47491 z"
     id="105-107" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.88351,255.59402 -0.74845,-48.34956 35.8131,0.48649 -0.0748,8.30774 -27.46794,-0.11226 0.0374,39.66759 z"
     id="105-151" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.87014,255.0819 0.19737,35.84815 106.75568,-0.0769 -0.27913,-7.25738 -98.5328,-0.27913 -0.27913,-28.75036 z"
     id="104-105" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.89481,255.35329 7.77162,-0.1727 -0.19738,59.03965 h -7.6976 z"
     id="103-105" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 701.46876,314.21747 0.0794,-23.32585 99.28366,-0.0794 -0.18523,-7.19754 -106.87534,-0.27207 -0.0187,30.85465 z"
     id="103-104" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.87014,255.10657 0.0987,27.139 -101.64788,0.98687 v 9.2766 l 110.33236,-1.77637 -1.18425,-35.72479 z"
     id="102-105"  /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.75522,314.2307 v -23.37877 l -101.45351,1.65385 0.0265,-9.27477 110.0689,-1.01105 -0.91685,31.97732 z"
     id="102-103" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 799.15232,207.43158 -128.72294,0.55606 0.0529,8.09723 128.92058,-0.37046 z"
     id="101-107" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 670.79397,215.73932 0.0187,-8.17677 -19.45957,-0.0187 0.39293,-42.36199 -7.29734,0.0748 -0.11226,50.59489 z"
     id="101-148" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.84608,255.29464 -0.78586,-39.03141 -22.34109,-0.56134 -0.0187,-8.15805 30.42434,-0.2442 0.52386,47.41496 z"
     id="101-105" /><path
     style="display:inline;fill:#9dcffa;fill-opacity:1"
     d="m 693.82138,314.04547 -0.31754,159.7218 7.62092,-0.42338 0.21169,-159.51012 z"
     id="100-103" />
    <!-- <> -->
    <path
    style="display:inline;fill:#9dcffa"
    d="m 240.40217,367.11662 65.72572,-54.87012 -21.11908,-22.40201 5.4278,-4.73699 26.25081,29.60618 -70.56139,59.80448 z"
    id="135-133" /><path
    style="display:inline;fill:#9dcffa"
    d="m 337.74697,334.4672 -18.70169,-22.05125 -6.90846,6.00129 -27.28493,-28.47123 5.44303,-4.81499 20.58582,22.88864 8.51345,-7.04803 24.42385,28.6108 z"
    id="135-132" /><path
    style="display:inline;fill:#9dcffa"
    d="m 337.60741,334.39742 -18.56213,-21.91169 -72.99242,61.9668 -5.5826,-7.25737 78.99371,-66.15375 24.28429,28.47124 z"
    id="133-132" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 377.23206,252.56538 -136.63252,114.35386 5.52649,7.50023 136.48449,-115.95753 z"
    id="133-131" /><path
    style="display:inline;fill:#9dcffa"
    d="m 377.18272,252.63939 -66.21916,55.46224 -20.72432,-22.99413 -5.4278,4.83568 27.33637,28.42193 70.26533,-59.7058 z"
    id="135-131" /><path
    style="display:inline;fill:#9dcffa"
    d="m 377.08403,252.63939 -63.5546,53.19244 24.17838,28.71799 6.2173,-4.93436 -18.94796,-22.30333 57.13993,-48.45544 z"
    id="132-131" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 377.05037,252.66794 57.27775,-44.83982 16.62923,-0.23704 0.19887,-24.53881 4.5962,-0.0221 -0.0663,32.52691 -17.52207,-0.22896 -55.88281,43.4375 z"
    id="150-131" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 479.81884,207.24914 27.8328,-0.0187 0.29002,-23.80523 h 6.90441 l 0.27131,32.61349 -35.36403,-0.14968 z"
    id="149-130" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 479.92868,207.25382 -0.13957,8.65303 -41.61767,-0.57124 -55.65961,43.42239 -5.4278,-6.11861 57.23861,-44.80402 z"
    id="131-130" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 480.03866,207.27318 -24.3104,0.27066 v -24.47415 l -4.56552,0.0748 -0.29938,32.33283 29.48874,0.11227 z"
    id="150-130" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 728.41983,207.74949 0.0926,8.22954 30.1926,-0.15877 -0.63507,-42.65599 -6.03323,0.21169 0.95261,33.87076 z"
    id="151-129" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1166.7795,392.23252 7.5193,-8.70827 -85.5533,-71.03852 22.1908,-28.05254 -5.0941,-4.18694 -27.913,34.96099 z"
    id="113-111" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1166.6808,392.18318 -96.9161,-84.44266 -15.4917,21.91169 -5.1639,-3.76825 21.2138,-29.02949 104.1154,86.80934 z"
    id="111-110" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1018.1565,253.62626 65.4296,54.47537 22.3034,-27.82981 5.033,4.24356 -27.7311,35.03397 -70.364,-61.38347 z"
    id="113-109" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1013.9129,258.56063 -56.44909,-43.12634 -13.42147,-0.0987 -0.98687,-29.21142 6.90811,-0.29607 0.69081,21.11908 9.2766,-0.0987 58.42291,46.67907 z"
    id="151-109" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1018.0578,253.72495 156.241,129.7993 -7.5365,8.65302 L 1012.6827,258.195 Z"
    id="111-109" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 1012.6827,258.26478 52.5476,45.5933 -16.086,21.80988 5.1317,3.84881 20.7243,-28.61931 -56.9425,-47.36989 z"
    id="110-109" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 917.08072,207.39339 -25.95907,-0.13957 0.13957,-21.35342 -8.37389,0.13956 0.55826,29.86688 33.77469,-0.13956 z"
    id="126-108" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 916.90335,207.14456 43.02764,-0.29606 58.52151,46.77776 -4.4409,5.03305 -56.64648,-43.12633 h -40.36309 z"
    id="109-108" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 917.04583,207.39339 26.60177,-0.34752 -0.59213,-20.92169 7.0068,-0.19738 0.88818,29.70487 -33.84973,-0.0987 z"
    id="151-108" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 799.36682,207.39128 0.0987,8.53645 91.93527,-0.30002 V 185.9004 l -8.37389,-0.13957 0.69783,21.63256 z"
    id="126-107" /><rect
    style="display:inline;fill:#9dcffa"
    width="118.21144"
    height="8.6530218"
    x="799.00885"
    y="207.25383"
    id="108-107" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 799.24412,207.24672 -40.69495,0.37197 -0.52391,-34.4659 -6.06241,0.24324 1.08525,42.45555 46.08551,-0.13097 z"
    id="129-107" /><rect
    style="display:inline;fill:#9dcffa;fill-opacity:1;stroke-width:1.09138"
    width="118.52343"
    height="8.698514"
    x="479.71878"
    y="207.22923"
    id="130-106" /><rect
    style="display:inline;fill:#9dcffa"
    width="201.39207"
    height="8.6530085"
    x="598.03546"
    y="207.25383"
    id="107-106" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 598.13648,207.29964 46.12511,0.31905 0.29938,-42.362 h 7.18507 l -0.44906,50.59489 -53.43899,-0.29937 z"
    id="148-106" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 598.13648,207.35257 130.40243,0.42338 0.10584,8.15015 -130.5612,-0.4763 z"
    id="151-106" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 598.23221,207.24446 -83.18495,0.10811 -0.21169,-23.92123 h -6.88 l -0.42338,32.60061 90.9994,-0.10552 z"
    id="149-106" /><path
    style="display:inline;fill:#9dcffa"
    d="m 597.96566,207.32361 103.48735,0.62804 v 47.45205 h -7.5365 l -0.83739,-39.07816 -96.02063,-1.11652 z"
    id="106-105-"
    sodipodi:insensitive="true" /><path
    style="display:inline;fill:#9dcffa"
    d="m 693.96883,255.40263 -0.7895,-47.56726 106.38487,-0.39475 0.19737,8.28973 h -98.29251 l 0.19737,39.47491 z"
    id="107-105" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.88351,255.59402 -0.74845,-48.34956 35.8131,0.48649 -0.0748,8.30774 -27.46794,-0.11226 0.0374,39.66759 z"
    id="151-105" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.87014,255.0819 0.19737,35.84815 106.75568,-0.0769 -0.27913,-7.25738 -98.5328,-0.27913 -0.27913,-28.75036 z"
    id="105-104" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.89481,255.35329 7.77162,-0.1727 -0.19738,59.03965 h -7.6976 z"
    id="105-103" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 701.46876,314.21747 0.0794,-23.32585 99.28366,-0.0794 -0.18523,-7.19754 -106.87534,-0.27207 -0.0187,30.85465 z"
    id="104-103" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.87014,255.10657 0.0987,27.139 -101.64788,0.98687 v 9.2766 l 110.33236,-1.77637 -1.18425,-35.72479 z"
    id="105-102"  /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.75522,314.2307 v -23.37877 l -101.45351,1.65385 0.0265,-9.27477 110.0689,-1.01105 -0.91685,31.97732 z"
    id="103-102" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 799.15232,207.43158 -128.72294,0.55606 0.0529,8.09723 128.92058,-0.37046 z"
    id="107-101" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 670.79397,215.73932 0.0187,-8.17677 -19.45957,-0.0187 0.39293,-42.36199 -7.29734,0.0748 -0.11226,50.59489 z"
    id="148-101" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.84608,255.29464 -0.78586,-39.03141 -22.34109,-0.56134 -0.0187,-8.15805 30.42434,-0.2442 0.52386,47.41496 z"
    id="105-101" /><path
    style="display:inline;fill:#9dcffa;fill-opacity:1"
    d="m 693.82138,314.04547 -0.31754,159.7218 7.62092,-0.42338 0.21169,-159.51012 z"
    id="103-100" />
    </svg>


    <!-- Include jsQR library -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <script>
        const scanButton = document.getElementById('scanButton');
        const qrScreen = document.getElementById('qrScreen');
        const endNodeScreen = document.getElementById('endNodeScreen');
        const camera = document.getElementById('camera');
        const scanMessage = document.getElementById('scanMessage');
        const pathForm = document.getElementById('pathForm');
        const pathInfo = document.getElementById('pathInfo');
        const currentStep = document.getElementById('currentStep');
        const nextButton = document.getElementById('nextButton');

        let startNode = null;

        // Start the camera for QR scanning
        function startCamera() {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(stream => {
                    camera.srcObject = stream;
                    camera.style.display = 'block';
                    scanMessage.textContent = 'Scanning for QR code...';
                    requestAnimationFrame(scanQR);
                })
                .catch(err => {
                    alert('Error accessing the camera: ' + err);
                });
        }

        // Stop the camera
        function stopCamera() {
            const stream = camera.srcObject;
            if (stream) {
                const tracks = stream.getTracks();
                tracks.forEach(track => track.stop());
            }
            camera.style.display = 'none';
        }

        // Scan QR codes
        function scanQR() {
            if (camera.readyState === camera.HAVE_ENOUGH_DATA) {
                const canvas = document.createElement('canvas');
                canvas.width = camera.videoWidth;
                canvas.height = camera.videoHeight;
                const context = canvas.getContext('2d');
                context.drawImage(camera, 0, 0, canvas.width, canvas.height);

                const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
                const code = jsQR(imageData.data, imageData.width, imageData.height);

                if (code) {
                    startNode = parseInt(code.data, 10);
                    if (!isNaN(startNode)) {
                        stopCamera();
                        qrScreen.style.display = 'none';
                        endNodeScreen.style.display = 'block';
                    } else {
                        scanMessage.textContent = 'Invalid QR code data. Try again.';
                    }
                    return;
                }
            }
            requestAnimationFrame(scanQR);
        }

        // Handle the QR scan button click
        scanButton.addEventListener('click', startCamera);

        // Handle the shortest path form submission
        pathForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const endNode = parseInt(document.getElementById('end').value, 10);

            if (isNaN(startNode) || isNaN(endNode)) {
                pathInfo.textContent = 'Error: Invalid start or end node.';
                return;
            }

            pathInfo.innerHTML = 'Calculating...';
            currentStep.innerHTML = '';
            nextButton.style.display = 'none';

            try {
                // Send a POST request to the Flask backend's /shortest-path route
                const response = await fetch('/shortest-path', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ start: startNode, end: endNode })
                });

                const data = await response.json();

                if (data.error) {
                    pathInfo.innerHTML = 'Error: ' + data.error;
                } else {
                    pathInfo.innerHTML = `
                        <p>Shortest Path: ${data.path.join(' -> ')}</p>
                        <p>Total Distance: ${data.distance} units</p>
                    `;

                    let directions = data.directions;
                    let currentStepIndex = 0;

                    function showNextStep() {
                        if (currentStepIndex < directions.length) {
                            const directionText = `Node ${data.path[currentStepIndex + 1]}: ${directions[currentStepIndex]}`;
                            currentStep.innerHTML = directionText;
                            speak(directionText); // Call speak function for audio guidance
                            currentStepIndex++;
                        } else {
                            currentStep.innerHTML = '<span class="destination-message">You have reached your destination!</span>';
                            speak('You have reached your destination!');
                            nextButton.style.display = 'none';
                        }
                    }

                    function speak(text) {
                        const utterance = new SpeechSynthesisUtterance(text);
                        window.speechSynthesis.speak(utterance);
                    }

                    showNextStep();
                    nextButton.style.display = 'inline';
                    nextButton.onclick = showNextStep;
                }
            } catch (error) {
                pathInfo.innerHTML = 'Error: Unable to fetch data from the backend';
            }
        });
    </script>
</body>
</html>

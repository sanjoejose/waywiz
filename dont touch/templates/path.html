<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shortest Path Finder</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        .pa {
            display: none; 
        }
        .floor {
            display: none; 
        }

        .highlight {
            display: inline; 
            fill: #9dcffa;
            fill-opacity: 1;
        }

        .dropdown-menu {
        position: absolute;
        margin-left: 4%;
        width: 10%; /* Matches the width of the input */
        max-height: 200px; /* Set a max height for scrolling */
        overflow-y: auto; /* Allows vertical scrolling */
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 5px;
        display: none; /* Hidden by default */
        z-index: 10;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .dropdown-item {
        display: block; /* Ensures each item takes up the full width */
        padding: 10px 15px; /* Adds spacing around the text */
        cursor: pointer;
        font-size: 1rem;
        color: #333;
        text-align: left; /* Aligns text to the left */
        transition: background-color 0.3s ease;
        border-bottom: 1px solid #f0f0f0; /* Optional: separates items visually */
    }

    .dropdown-item:last-child {
        border-bottom: none; /* Removes the border for the last item */
    }

    .dropdown-item:hover {
        background-color: #f0f0f0; /* Changes background on hover */
    }

    </style>
    
</head>
<body>
    <div class="container">
        <h1>Shortest Path Finder</h1>
        
        <!-- Screen 1: QR Code Scanner -->
        <div id="qrScreen">
            <p>Click below to scan the QR code for the Start Node:</p>
            <button id="scanButton">Scan QR Code</button>
            <video id="camera" style="display:none; width: 100%; max-height: 300px; margin-top: 10px; border-radius: 5px; border: 2px solid #0077b6;" autoplay></video>
            <p id="scanMessage" style="margin-top: 10px;">Awaiting QR code scan...</p>
        </div>

        <!-- Screen 2: End Node Input -->
        <!-- Dropdown for End Node -->
        <div id="endNodeScreen" style="display: none;">
            <form id="pathForm">
                <div class="dropdown-container">
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchBar" 
                        placeholder="Select Destination" 
                        oninput="filterDropdown()">
                    <div class="dropdown-menu" id="dropdownMenu">
                        <!-- Options will be dynamically populated here -->
                    </div>
                </div>
                <input type="hidden" name="end" id="selectedEndNode">
                <button type="submit">Find Path</button>
            </form>
        </div>
        





        
        <!-- Path Info -->
        <div id="result">
            <p id="pathInfo"></p>
            <div id="currentStep"></div>
            <button id="nextButton" style="display:none;">Next Step</button>
        </div>
        <button type="submit" onclick="location.href='{{ url_for('select') }}'">Home</button>
    </div>
    <div id="svgContainer" style="display: none;">
        <svg
        version="1.1"
        id="svg1"
        width="1385.6"
        height="589.59998"
        viewBox="0 0 1385.6 589.59998"
        sodipodi:docname="onlyfirst.svg"
        inkscape:export-filename="ground.svg"
        inkscape:export-xdpi="96"
        inkscape:export-ydpi="96"
        inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
        xml:space="preserve"
        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <g
          id="f2"
          transform="matrix(0.79975264,0,0,0.79812374,0.97931579,0.82806742)"
          class="floor"><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 715.27699,291.15331 h 35.57389 l -0.34538,53.8789 -35.91927,-0.34538 z"
            id="path22-6" class="fl2" /><path
            style="display:inline;fill:#b5b5b5"
            d="m 876.56833,241.76432 c -0.69075,-107.75781 -0.69075,-107.75781 -0.69075,-107.75781 l 279.75582,0.69075 0.6908,106.3763 z"
            id="path1-2" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 1249.5761,272.8483 70.4571,-83.58138 238.3105,198.93749 -69.0755,84.27214 z"
            id="path2-2"
            sodipodi:nodetypes="ccccc" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 1599.0983,564.34699 -59.405,-49.73438 53.8789,-61.47721 58.7142,49.04362 z"
            id="path4-3" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 1492.0312,474.54881 19.3411,-22.79492 44.8991,37.99154 -18.6504,24.17643 z"
            id="path3-3" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 295.64322,434.48501 -44.20833,37.30078 -69.76628,-82.89062 45.58985,-36.61002 z"
            id="path7-8" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 88.416664,502.17902 58.023436,-48.35286 54.56966,60.78645 -60.0957,49.04362 z"
            id="path5-0" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 183.74088,490.43618 45.58984,-39.37304 18.65039,23.48567 -44.89909,39.37305 z"
            id="path6-0" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="M 347.44986,390.96744 489.74543,272.15754 419.97915,189.95768 278.37434,309.45832 Z"
            id="path8-4" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 872.4238,136.07877 1.38151,107.06706 -289.42642,-0.69076 0.69075,-107.06705 z"
            id="path9-9" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 254.72025,385.62155 4.15172,-3.90751 -28.08517,-32.72532 44.20361,-36.87704 26.13142,30.77157 3.41906,-2.93063 16.60688,20.02595 -3.17484,2.68641 26.61985,30.28313 -44.20361,38.09814 -29.06204,-33.45798 -3.41906,3.66328 z"
            id="path11-7" class="fl2"/><path
            style="display:inline;fill:#b5b5b5"
            d="m 142.29557,567.11001 43.51758,-34.53776 -2.07227,-2.76302"
            id="path12-5" class="fl2"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 142.98632,567.11001 43.51758,-35.91927 -4.14453,-2.76302 15.88737,-12.4336 2.76302,4.14454 6.2168,-4.83529 -3.45378,-2.76302 44.89909,-37.99154 3.45377,4.14453 33.84701,-29.01171 -2.76302,-5.52605 12.43359,-8.97981 4.14453,4.14453 167.16276,-141.60481 -3.45378,-4.14454 16.57812,-13.8151 4.14454,4.83529 42.13606,-37.30078 34.53776,-0.69076 v -6.2168 l 16.57813,2.07227 -1.38151,4.83529 24.17643,-1.38151 v -3.45378 l 21.41341,0.69076 -1.38151,3.45377 252.8164,0.69076 0.69075,40.0638 -73.22005,-0.69076 1.38151,5.52604 h -26.93945 v -6.21679 l -234.85676,2.07226 -118.8099,99.46875 6.90756,8.97982 -22.10417,18.65039 -6.90755,-10.36133 -48.35287,42.82682 -1.38151,2.07227 6.90756,7.5983 -18.65039,17.26888 -9.67058,-8.97981 -158.18293,131.93424 z"
            id="path13-9" class="fl2"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="M 876.56833,285.97265 V 246.5996 l 245.21807,0.69076 -0.6907,-5.52604 h 22.1041 v 6.21679 l 18.6504,-0.69075 v -6.90756 l 16.5781,1.38152 v 3.45377 l 0.6908,1.38151 h 33.847 l 44.2083,37.99154 2.7631,-2.07227 15.1966,12.43359 -1.3815,2.07227 214.8248,180.97786 2.763,-3.45378 46.2806,38.68229 -2.763,3.45378 3.4538,2.76302 2.763,-3.45378 15.8874,13.81511 -2.763,3.45377 41.4453,33.84701 -25.558,31.77474 -158.8737,-132.625 -6.9075,8.28906 -19.3412,-15.88737 -1.3815,-0.69075 8.2891,-8.97982 -53.8789,-43.51758 -6.2168,8.28907 -20.7227,-17.26888 v 0 l 7.5984,-8.97982 L 1197.7695,286.6634 H 964.29424 v 4.83529 l -26.2487,-0.69076 v -4.83528 z"
            id="path14-3" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 454.17154,221.04166 -46.97136,-53.53353 83.236,-29.35709 14.16049,40.0638 z"
            id="path16-0" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="M 492.85383,269.04915 454.51692,223.4593 505.6328,180.97786 h 73.22005 l 0.34538,60.44108 -54.91504,0.34538 z"
            id="path15-5" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 494.92609,135.73339 84.27214,-31.08398 -0.34538,72.87467 -69.07552,1.03614 z"
            id="path17-0" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1160.5279,185.11788 53.2397,-0.48844 16.6069,-0.48844 52.2628,42.98252 -36.1443,42.49408 -32.7254,-29.30626 -54.2166,1.46531 z"
            id="path19-8" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1160.0395,182.18725 h 71.3119 l 15.1416,-46.40158 -85.4766,-32.23688 z"
            id="path20-4" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 989.16142,290.80793 h 36.95538 l -0.6907,54.22428 h -35.91931 z"
            id="path23-5" class="fl2"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1283.6142,224.19289 49.3322,-57.1472 -83.5228,-29.7947 -13.1878,47.37845 z"
            id="path21-5" class="fl2"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1;stroke-width:1.25166"
            d="m 322.00041,461.45341 88.62115,-70.63441 16.25503,24.11906 -82.05662,48.23814 z"
            id="path117" class="fl2"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 1071,319.875 -15.375,13.375 57.375,38 11,-12.375 z"
            id="path118"
            transform="matrix(1.2503866,0,0,1.2529385,-1.2245234,-1.0375176)" class="fl2"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 983.98075,290.80793 -228.98534,0.69076 v 2.76302 l -4.48991,-0.69076 v 16.57813 l 5.52604,1.72688 v 38.68229 h -5.52604 l 0.69076,26.59408 1.72689,-0.34538 0.34537,50.77051 -2.07226,0.34537 0.34538,24.86719 4.4899,1.38151 v 46.62598 h 228.29459 v -48.00749 l -56.64192,-0.69076 v 4.14454 l -115.7015,-0.69076 -0.34537,-5.18066 1.38151,0.34537 V 346.41372 l 114.66536,0.69076 -0.69076,104.30403 h 0.69076 l -0.34538,0.69075 61.47721,0.69076 V 426.8867 h -2.41764 v -50.42513 h 2.07226 l 0.69076,-27.6302 -5.18067,0.69075 0.69076,-30.39323 5.18066,-0.34537 -0.69075,-16.57813 -4.14453,0.34538 z"
            id="path25-2" class="fl2"/><rect
            style="display:inline;fill:#a7a082;fill-opacity:1"
            id="rect49"
            width="68.384789"
            height="106.20361"
            x="686.09259"
            y="348.65869" class="fl2"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1;stroke-width:0.814843"
            d="m 1053.1368,310.85603 c 78.0425,63.85278 78.0425,63.85278 78.0425,63.85278 l -33.5623,39.17348 -76.8295,-64.63625 z"
            id="path50-4"
            transform="matrix(1.2503866,0,0,1.2529385,-1.2245234,-1.0375176)" class="fl2"/><rect
            style="display:inline;fill:#a7a082;fill-opacity:1"
            id="rect50"
            width="70.823463"
            height="104.52567"
            x="984.69037"
            y="348.74451" class="fl2"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1;stroke-width:1.25166"
            d="m 328.79939,467.09163 95.10753,-76.27263 39.38718,45.57564 -94.09159,79.09174 z"
            id="path116" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1178.1117,246.17259 -0.4885,-3.90751 0.4885,-0.48843 35.6559,-0.97688 47.3785,41.5172 -2.9307,2.93063 -45.9131,-38.09814 z"
            id="path37-3" class="fl2"/><path
            style="display:inline;fill:#040404;fill-opacity:1"
            d="m 137.46028,566.76463 -72.87467,-85.65364 65.96712,-55.26042 50.07975,60.0957 45.24447,-37.64616 -50.42513,-60.0957 55.60579,-46.28059 186.84928,-156.80143 -18.99577,-21.06803 7.59831,-1.72689 3.79915,3.79915 -4.14453,1.72689 30.39323,33.50163 -3.45378,3.45377 -13.8151,-15.19661 -148.85775,126.4082 -89.10741,73.56542 69.76627,81.50912 32.12012,-26.2487 2.41764,4.83528 -33.84701,27.97559 -23.48567,-25.90332 -44.89909,39.02767 21.06803,24.17643 -2.76302,2.07227 -54.22428,-64.24024 -18.30501,-21.06803 -58.714191,48.69824 69.420891,83.58138 z"
            id="path18-5" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 136.76953,566.41925 32.81087,38.68229 158.52831,-132.27962 40.0638,48.00749 101.19563,-84.27214 -41.09993,-47.6621 115.01074,-96.36035 1.72689,-1.03613 h 34.19238 l 131.24348,0.69075 -0.69075,52.84277 h -28.66634 l 0.34537,113.28385 h 69.76628 l -0.69076,48.35286 60.44108,-1.38151 179.25097,0.69076 -0.69076,-48.00749 69.42091,0.69076 0.3454,-113.97461 -29.0118,1.03614 0.3454,-59.75033 -66.65785,0.69076 1.72689,3.45378 18.30501,0.34537 1.38151,11.74284 h 4.14453 l -0.69075,-11.39746 h 36.95536 v 54.56966 l -36.95536,-0.34538 -0.69076,-25.55794 c 0,0 -4.83528,-4.83529 -4.4899,1.03613 0.34537,5.87142 0.69075,27.97559 0.69075,27.97559 v 0 l 5.18066,1.03613 64.24021,0.34538 -0.6907,104.30403 -69.07555,-1.03613 0.34538,48.69824 -0.34538,-1.03613 H 755.68617 v -46.97136 l -69.07552,-0.34537 -0.34538,-102.57715 70.11165,-0.34538 -0.69075,-39.37304 -5.52605,-0.34538 0.34538,34.19238 -36.26464,-0.69075 0.69075,-53.18815 59.40495,0.34538 v -4.14454 l 0.34537,-1.03613 -234.51138,1.72689 -119.50065,100.1595 41.09994,47.66211 -92.5612,78.40071 -41.09993,-48.35286 -158.52831,131.93424 -29.70248,-34.53776 z"
            id="path26-9" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 140.2233,563.65623 42.13607,-34.53776 4.83528,3.45377 -46.28059,36.61003 z"
            id="path27-0" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 226.8793,351.4309 28.08516,34.19064 3.90751,-3.9075 -28.57361,-33.45798 z"
            id="path28-1" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 274.99041,311.37902 c 5.86125,7.57078 26.13141,31.26001 26.13141,31.26001 l 2.93063,-2.68641 -26.61985,-31.50423 z"
            id="path29-3" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 299.41229,438.86125 -31.50423,-37.6097 3.41907,-3.41907 28.5736,33.45798 44.69205,-37.85392 -26.61986,-30.77157 3.17485,-2.68641 26.13141,30.52736 0.48844,0.48844 91.33785,-76.19628 24.6661,-20.7586 3.17484,3.41906 -117.46926,99.39707 -48.35533,40.29611 z"
            id="path30-1" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 489.65877,137.4952 -86.69769,31.74845 -3.17485,-3.66328 183.89679,-67.404398 v 28.085168 h 1.95375 l -1.46531,110.38691 c 0,0 -0.24422,5.61704 -0.24422,5.61704 l 16.11844,0.24421 v 4.15172 l -23.20079,0.48844 -0.24422,-5.61703 h 2.68641 l -0.73266,-60.56627 -73.50987,-0.24422 -50.06486,42.98251 6.83813,8.30344 -3.9075,3.17485 -15.38579,-18.31641 4.88438,-3.90751 6.59391,8.05923 50.55329,-42.24986 73.99831,-0.97688 0.97688,-73.50987 -84.98816,31.50423 6.34969,18.0722 -4.88437,1.70953 z"
            id="path31-0" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 501.13705,169.48787 c 3.66328,9.0361 3.66328,9.0361 3.66328,9.0361 l 4.64016,0.48844 -4.15172,-11.47829 z"
            id="path32-0" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 468.41173,247.14946 21.97969,25.39876 -9.76875,7.815 3.9075,4.39594 42.49408,-37.6097 33.7022,-0.97687 -0.48844,-4.39594 h -37.12126 l -30.28314,27.35251 -21.49126,-25.39876 z"
            id="path33-9" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 590.03271,134.8088 570.98359,1.46531 -0.4884,-6.83813 -571.47207,0.48844 z"
            id="path34-3" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1154.9427,136.42415 1.0361,104.30403 -13.1244,0.34538 v 6.90755 l 19.3412,-0.34538 -0.6908,-5.87142 h -1.3815 v -55.95117 l 53.8789,-0.34537 -0.6907,-2.76303 v -1.03613 h -52.4974 l 0.6907,-78.05533 84.9629,32.12011 c 0,0 -8.289,24.17643 -8.289,24.17643 l 4.8352,1.38151 7.5984,-22.79492 82.5452,29.01172 -33.1563,37.64616 4.8353,3.79915 -1.3815,-0.69075 16.5781,-18.65039 91.1797,75.63769 148.167,123.64518 -0.6907,-1.38151 -70.1117,84.96288 -213.098,-178.21483 -2.0722,2.41764 214.4795,180.97786 h 0.6907 l 23.1403,-25.55795 7.9437,6.56218 2.763,-4.14453 -8.289,-5.18067 51.8066,-60.44107 -242.8005,-203.4274 18.6504,-20.72266 -8.9798,-3.45378 -27.2848,-8.97981 -58.3688,-21.06804 -91.8705,-34.537755 c 0,0 1.3815,0 1.3815,0.345378 0,0.345377 -0.3453,31.429357 -0.3453,31.429357 z"
            id="path36-7" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 872.34968,136.27411 1.46531,106.96785 -253.98759,-0.48844 -0.48843,2.93063 v 0.97687 l 253.98759,-0.48843 v 41.5172 l -71.3119,-0.97688 -0.97688,4.39594 h 136.27411 v -5.86125 l -61.54315,0.97688 0.48844,-40.05189 245.19572,1.46531 -0.4884,-5.86125 -244.70732,0.48843 -0.48844,-107.45628 z"
            id="path35-6" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1245.5161,269.61759 21.4912,-23.93344 1.4653,5.37281 -19.049,22.46814 z"
            id="path38-8" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1275.3108,235.9154 3.9075,2.44218 15.1415,-18.56063 -3.419,-2.44219 -6.8382,8.30344 -48.3553,-41.5172 2.9306,-10.25719 h -3.9075 l -3.9075,9.76875 51.7744,43.95939 z"
            id="path39-6" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 813.01885,346.06834 113.9746,1.38152 v 107.7578 H 812.32809 l 6.90755,-5.52604 101.54101,0.69076 0.69076,-98.08724 -102.23177,-0.69075 -0.69075,97.39648 -4.83529,4.14453 z"
            id="path43-9" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1518.0643,457.17766 37.6097,32.23689 -21.0028,25.88719 -0.9769,0.48844 4.8844,3.9075 3.419,-2.93062 -2.9306,-0.97688 54.705,-63.00846 17.0953,-20.51438 59.101,48.84377 -70.8235,83.0344 -43.4709,-35.16751 -2.4422,3.41906 43.4709,34.67908 -26.3756,32.23688 -159.2307,-133.34348 -5.3728,5.86125 4.8844,3.9075 2.4422,-2.93062 157.7654,132.85504 105.5025,-125.04004 -67.8928,-55.19346 -49.3323,59.5894 -38.5865,-31.74845 z"
            id="path40-3" class="fl2"/><path
            style="display:inline;fill:#020202;fill-opacity:1"
            d="m 1410.608,474.76142 -4.8844,-3.41907 -34.1906,42.00564 -0.9769,0.48844 -92.8032,-78.63846 40.5404,-47.37846 -120.6441,-101.1066 h -168.511 l 1.4653,4.39594 164.6035,0.48844 116.7366,97.1991 -40.5403,48.35533 101.1066,84.49971 z"
            id="path42-0" class="fl2"/></g>
        <g
          inkscape:groupmode="layer"
          id="f1"
          class="floor"><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1233.7534,416.18243 16.1895,13.95648 42.7069,-50.80161 -15.6313,-13.11909 z"
            id="path21" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1251.0594,430.69717 30.7043,24.28429 42.7069,-49.68509 -30.146,-24.84255 z"
            id="path35" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 103.55713,379.05817 16.46865,-13.39822 42.42772,50.24335 -16.46865,13.11909 z"
            id="path22" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 624.4132,107.18582 47.17293,0.55826 -1.95391,84.29717 h -45.49814 z"
            id="path23" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1211.1439,365.38082 36.2869,30.14601 -18.4226,21.49299 -34.333,-30.9834 z"
            id="path24" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.04083"
            d="m 895.58691,192.63754 32.07335,-0.39475 -0.42763,-84.87105 h -50.88974 v 85.2658 z"
            id="path7" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 180.79506,354.8794 37.50116,-30.39568 22.5007,26.84293 -38.68541,30.39568 z"
            id="path13" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.01653"
            d="m 843.67181,193.31831 30.59305,-0.39475 -0.4079,-84.87105 h -48.54098 v 85.2658 z"
            id="path7-2" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 743.20819,193.52788 29.60617,-0.39475 -0.39474,-84.87105 h -46.97514 v 85.2658 z"
            id="path7-1" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.00933"
            d="m 792.88489,193.31831 30.16129,-0.39475 -0.40215,-84.87105 h -47.85592 v 85.2658 z"
            id="path7-3" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 931.21301,192.24279 -0.39475,-105.397999 138.16214,51.317379 -69.47581,81.3183 -26.84293,-23.29019 -5.92124,-3.158 z"
            id="path6" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1;stroke-width:1.12845"
            d="m 464.68871,106.1875 h 55.19579 v 86.84478 l -55.65962,-0.8556 z"
            id="path10" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="M 332.3787,136.58317 459.88264,89.608034 459.48789,192.63754 h -32.36942 l -27.23768,23.29019 z"
            id="path11" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 218.69097,323.69422 38.29066,-32.36942 22.10595,26.44818 -38.68541,31.97468 z"
            id="path14" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 149.05528,395.52683 36.28686,-30.42514 17.30604,21.21386 -35.7286,31.26253 z"
            id="path17" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 115.28058,455.81885 30.14601,-25.40081 -42.98598,-49.96422 -29.86688,24.84255 z"
            id="path19" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 146.64927,314.81237 115.26672,-96.31877 22.10595,26.25081 -116.25359,96.51614 z"
            id="path71" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 261.71862,218.09885 79.54193,-66.51522 22.10595,26.44819 -80.72618,67.30471 z"
            id="path72" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1057.9017,153.80048 192.3204,161.33698 -21.7722,26.2382 -193.4369,-162.17437 z"
            id="path73" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1001.0836,221.45422 77.3708,64.34409 22.5007,-26.64556 -76.9761,-65.72572 z"
            id="path74" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 1116.5477,318.56248 76.976,64.54147 23.2902,-27.23768 -76.7786,-65.1336 z"
            id="path75" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="M 318.48702,285.82884 398.87638,218.27945 375.15036,191.20386 295.31925,258.195 Z"
            id="path76" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 523.78694,107.32538 -0.34892,86.25109 h 47.17293 l -0.19858,-87.78373 z"
            id="path78" class="fl1"/><path
            style="display:inline;fill:#b5b5b5;fill-opacity:1"
            d="m 573.96512,107.17437 v 88.42378 l 46.99385,-1.98679 v -86.11152 z"
            id="path79" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 262.8647,218.31598 22.03075,26.3759 -28.91537,24.57313 -1.38162,-1.67768 28.12587,-23.2902 -21.31645,-25.16525 z"
            id="path70-2" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 374.22031,190.8643 -30.63449,25.74971 1.25608,1.53522 30.70427,-25.8195 z"
            id="path68-6" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 295.81266,257.38116 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
            id="path65-0-9-1-4" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 257.06254,289.71166 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
            id="path65-0-9-1" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 222.7428,248.9853 23.42497,27.66318 -1.35877,1.15377 -23.28581,-27.90768 z"
            id="path65-0-9" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 167.89339,340.66616 27.70362,-23.37712 1.15142,1.36076 -27.94787,23.23755 z"
            id="path65-0" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1040.5773,253.35881 21.9678,-26.26826 27.871,23.6918 1.2296,-1.5666 -29.1186,-24.5263 -23.2459,27.84344 z"
            id="path37-1" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1077.7768,284.45498 23.0928,-27.139 1.3816,1.28294 -23.1915,27.23768 z"
            id="path38-7" class="fl1"/><path
            id="path20"
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 674.82422,60.199219 -3.84961,0.04883 -0.0156,43.658201 -205.78906,0.0703 -0.69726,-20.027339 -139.14649,51.777339 13.1875,15.00391 -196.64648,164.47656 40.40429,47.5918 -35.24023,29.3789 -39.8457,-47.59179 -53.662112,44.93945 81.644532,95.11328 3.07031,-3.27929 -79.617186,-92.72852 47.886716,-38.68555 40.4375,47.17188 40.46094,-33.94727 -39.57227,-48.06054 195.99219,-164.31446 -11.25,-14.4082 126.71485,-46.976562 0.19726,17.960932 215.73047,0.5918 z M 1295.875,401.90625 c -0.021,0.13134 -0.072,0.4035 -0.08,0.4668 -0.039,0.30664 -0.2215,1.16773 -0.029,0.92578 0.2094,-0.26376 0.1944,-0.88026 0.1094,-1.39258 z m -7.6309,9.96875 c -0.1863,0.0367 -0.4645,0.1736 -0.3632,0.29492 0.1384,0.16593 0.3884,0.0421 0.6582,-0.1582 -0.063,-0.0198 -0.1259,-0.0438 -0.1895,-0.0625 -0.034,-0.0257 -0.071,-0.0489 -0.1055,-0.0742 z" /><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 139.56486,487.08138 125.60838,-105.23191 32.37905,39.35729 80.66849,-68.10765 -33.77469,-38.79903 98.53279,-81.22676 h 126.16664 l 1.39565,43.54424 -23.16777,-1.11652 v 91.27542 l 54.98856,-0.83738 v 39.63642 l 48.01031,-0.83739 0.55826,91.55455 3.62869,-0.83739 -0.65742,-94.98236 h -46.77776 l -0.19738,-38.29066 -55.65961,0.19738 0.19737,-82.69993 22.89545,-0.19737 -0.59213,-50.52788 h -133.2278 l -101.64788,85.26579 33.35629,38.29066 -74.21282,61.9756 -32.76417,-39.08015 -130.26719,109.54286 3.55275,3.94749 z"
            id="path33" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 746.11377,495.17614 -0.13957,-90.5776 h 48.28945 l -0.27913,-38.5199 55.68638,0.69782 -0.27913,-91.13585 -23.72603,0.69782 0.69782,-43.12554 128.67881,0.27913 96.85803,80.94762 -33.4956,39.07816 81.0872,67.40983 31.8208,-38.9386 127.981,105.92974 83.3202,-98.5328 -53.3138,-44.93988 -39.9155,47.73118 -35.7286,-29.58775 41.032,-48.14988 -193.8556,-162.03481 -2.7913,2.93086 189.9478,159.38308 -39.4968,48.98727 41.4507,34.47252 40.3343,-48.56857 47.1729,39.49685 -79.552,93.3689 -126.7249,-106.48799 -32.2395,38.79903 -74.8067,-62.52506 33.2164,-38.24077 -101.60321,-85.4137 -133.98227,0.41869 0.97696,50.80161 22.46994,-0.13956 -0.55826,83.04109 -55.26768,-0.41869 0.55825,37.82208 -47.59161,-0.69783 0.83739,96.71845 h 3.07042 z"
            id="path34" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 1060.9721,152.5444 14.7939,-16.74779 -148.77617,-54.290729 0.69783,22.190809 -202.36906,0.55826 -0.13956,-43.823364 -3.76825,0.139565 0.27913,47.172929 209.48686,0.27913 -0.27913,-21.353429 137.75055,51.778569 -13.6774,14.93344 3.21,2.51216 z"
            id="path42" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1101.5855,309.834 92.5315,76.76067 17.306,-20.79516 -3.3495,-2.51217 -15.073,18.14343 -88.7633,-74.80676 z"
            id="path18" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="M 1088.3966,299.29685 968.12204,197.37452 H 957.5625 l -0.0987,-4.6383 11.64509,0.29606 30.79043,25.75738 55.75828,-66.12047 3.158,2.46719 -56.2517,66.41652 89.0159,74.31151 z"
            id="path27" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 941.08173,196.97978 h -46.77776 v -4.14487 l 33.15892,-0.39475 -0.39475,-85.26579 h 4.53961 v 85.85791 h 9.27661 z"
            id="path28" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 880.8825,196.97978 -109.74023,1.18424 0.78949,-24.86919 h 3.94749 l -0.19737,19.54008 46.97514,-0.39475 -0.19738,-19.14533 3.55274,-0.19737 v 19.73745 l 46.97514,-0.59212 0.19737,-40.06703 3.55275,-0.19738 0.39475,40.65916 3.75011,-0.19738 z"
            id="path29" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 872.79015,138.95167 h 4.34224 l -0.39475,-31.38255 h -3.94749 z"
            id="path30" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 822.45964,107.56912 0.39475,52.10687 3.35537,-0.19737 v -52.10688 z"
            id="path31" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 772.12914,107.56912 v 52.50162 l 3.55274,-0.19738 0.19737,-52.30424 z"
            id="path36" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1155.2331,349.55028 22.1059,-26.15212 -28.1258,-23.38888 1.3322,-1.48031 29.1621,24.47444 -23.4382,27.68178 z"
            id="path37" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1116.5477,316.8848 23.0928,-27.139 1.3816,1.28294 -23.1915,27.23768 z"
            id="path38" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1188.0466,332.57607 27.0403,22.64873 1.1843,-1.1349 -27.139,-23.19151 z"
            id="path40" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1199.7904,318.8092 27.435,22.64873 0.8389,-1.13491 -27.1883,-22.94478 z"
            id="path41" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1212.1906,284.43319 -22.1908,26.30798 -29.5877,-25.19146 1.0467,-1.11652 28.541,24.07494 21.2139,-25.33102 z"
            id="path43" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1172.4844,251.07719 -22.2606,26.16841 1.2561,0.83739 22.121,-26.16841 z"
            id="path44" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1135.0113,219.60531 -21.4232,25.0519 28.3316,23.30733 -1.1165,1.1863 -29.0295,-24.35407 22.4002,-26.16841 z"
            id="path45" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1096.3518,187.01692 -21.5628,25.12167 28.541,23.51668 -1.4654,1.18631 -28.9597,-24.35407 22.6095,-26.37776 z"
            id="path46" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1036.4136,181.58456 27.139,22.55004 0.9376,-1.1349 -27.1884,-22.69807 -1.3323,1.18425 z"
            id="path47" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 1024.5712,195.00603 27.583,23.14216 0.8389,-1.03621 -27.3364,-23.2902 z"
            id="path48" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 822.66509,276.33843 -29.16905,0.34891 0.13956,-15.28235 -4.04738,-0.0698 -0.0698,18.84126 33.70491,-0.62805 z"
            id="path54" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 822.26227,228.95445 -100.95707,0.0987 v 4.44092 l 68.29158,-0.39475 -0.19737,14.60572 h 4.24355 l -0.29606,-14.60572 28.81668,0.19738 z"
            id="path55" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 573.66905,276.02827 h 29.5075 l -0.0987,-27.33637 3.94749,-0.0987 v 31.38255 l -33.3563,-0.49343 z"
            id="path56" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 573.5767,229.09573 101.53344,-0.24424 -0.17445,4.43118 H 573.50692 Z"
            id="path57" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 502.01482,193.01821 -37.26382,-0.4187 0.27913,-86.11152 -5.44303,-0.0698 -0.0698,86.39065 h -1.88413 l -0.0698,4.67542 44.59097,-0.41869 z"
            id="path58" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 441.58323,197.34472 -12.83997,-0.27913 -120.7236,102.30104 -2.93087,-3.76825 91.13586,-76.90024 -55.82595,-66.43287 3.07043,-2.23304 56.52377,66.29331 27.77341,-23.72603 13.67736,0.27913 z"
            id="path59" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 294.76099,309.834 -92.81063,77.17937 -17.58517,-21.91168 2.79129,-2.37261 15.77083,18.98082 89.04239,-75.36502 z"
            id="path60" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 146.9618,397.06204 19.67865,23.72603 2.51217,-2.23304 -20.09734,-23.58646 z"
            id="path61" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 117.79275,458.19145 15.98017,-13.04931 -2.58195,-3.41934 -16.18952,13.53779 z"
            id="path62" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 141.16986,433.7676 2.44239,2.86108 5.58259,-4.81499 -45.42836,-52.96487 -1.53522,1.605 42.63707,50.31313 z"
            id="path63" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 156.59178,420.85785 2.65173,2.72151 6.07107,-5.02433 -2.7913,-3.27978 z"
            id="path64" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 179.86422,354.25052 27.70362,-23.37712 1.15142,1.36076 -27.94787,23.23755 z"
            id="path65" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 184.05174,284.318 22.89545,26.3495 29.21143,-24.86919 -1.08556,-1.18425 -28.42193,23.68495 -21.41514,-25.46132 z"
            id="path66" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 240.40217,350.53716 -23.78363,-27.43506 29.65552,-24.96788 1.18425,1.33228 -28.37259,24.22772 22.25398,25.80672 z"
            id="path67" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 362.03126,177.45673 -30.63449,25.74971 1.25608,1.53522 30.70427,-25.8195 z"
            id="path68" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 304.80966,249.12328 29.37841,-24.35407 23.30733,27.49428 -1.67478,1.32587 -21.8419,-26.2382 -27.84319,23.09799 z"
            id="path69" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 301.56478,185.9004 22.03075,26.3759 -28.91537,24.57313 -1.38162,-1.67768 28.12587,-23.2902 -21.31645,-25.16525 z"
            id="path70" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 520.01869,106.76712 -0.27913,32.37905 4.32651,0.13956 v -32.37904 z"
            id="path77" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 725.3186,107.46495 0.69783,87.7863 -4.74521,-0.13957 0.41869,-87.92586 z"
            id="path49" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 671.307,107.04625 0.41869,88.62369 3.62869,-0.13956 -0.27913,-88.76326 z"
            id="path50" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 620.78452,159.52264 3.76825,0.13957 v -52.75552 l -3.76825,0.13956 z"
            id="path51" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 620.50539,173.75826 0.20935,19.39951 -46.40532,-0.0698 -0.20935,-19.4693 -4.04738,-0.0698 0.0698,19.53908 -46.40532,-0.0698 v -40.61338 l -4.32651,0.0698 0.48848,40.5436 -4.60564,-0.13957 -0.20935,4.53586 109.83755,-0.55826 -0.34891,-23.16777 z"
            id="path52" class="fl1"/><path
            style="display:inline;fill:#272727"
            d="m 574.16249,107.27305 0.19738,45.29746 32.76417,-0.59213 -0.0987,7.7963 -37.40247,0.19737 0.49343,-53.29112 z"
            id="path53" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 1237.1435,423.56573 -8.0923,-7.89498 18.3558,-20.52695 3.158,2.76324 -16.1847,18.55321 5.5265,4.73698 z"
            id="path81" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 1279.3817,458.69839 -15.9874,-13.22409 2.5659,-2.96062 16.3821,13.81622 z"
            id="path82" class="fl1"/><path
            style="display:inline;fill:#272727;fill-opacity:1"
            d="m 1253.3282,436.9872 -5.9212,-5.72386 45.1988,-52.30425 2.1711,1.77637 -43.0277,50.3305 3.7501,3.35537 z"
            id="path83" class="fl1"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1"
            d="m 1052.7957,318.56248 17.1783,14.16016 -14.8636,17.16648 36.3566,30.21579 -9.63,20.86495 -58.2683,-48.84771 z"
            id="path87" class="fl1"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 116.9793,458.05189 15.91039,-12.83997 -1.67478,-3.07043 10.60693,-8.65302 1.95391,3.07043 5.02434,-5.02434 -1.95391,-2.7913 9.49041,-7.81563 2.7913,1.95391 4.7452,-3.62869 130.63271,-109.69798 -2.79129,-2.7913 -12.56084,10.3278 -22.60951,-26.79645 -1.39565,1.11652 1.39565,1.39565 -8.93215,7.5365 -1.67478,-2.23304 -29.58775,25.12168 1.67478,2.23303 -9.21128,7.60629 -1.88413,-2.30282 -26.65689,22.81886 -10.53714,-12.56084 27.49427,-22.67929 -1.74456,-1.81435 9.1415,-7.46672 1.46543,1.39565 30.14601,-24.35407 -0.97695,-1.1863 8.93215,-7.67607 0.90717,0.97696 1.46543,-1.25609 -0.90717,-0.97695 8.93215,-7.67607 1.04674,1.11652 29.44819,-24.91233 -0.62805,-0.90717 9.00194,-7.60628 0.97695,1.04673 29.51797,-25.19146 -0.90717,-0.83738 8.65302,-7.18759 0.83739,0.90717 27.07558,-22.81886 10.60693,12.28171 -27.21514,22.60951 0.83738,0.90717 -9.28106,7.60628 -0.83739,-0.97695 -29.51797,24.77276 0.97696,0.97696 -8.86237,7.67607 -0.76761,-0.83739 -1.74456,1.81434 23.4469,26.51732 -12.97953,10.7465 3.76825,3.69847 121.42143,-102.64996 11.72345,0.27913 v -4.60564 l 16.32909,-0.4187 v 5.1639 l 44.38162,-0.27913 v -4.46607 l 13.39823,0.27913 0.13957,4.18694 109.69798,0.27913 -0.27913,-5.58259 43.82337,0.13956 -0.27913,2.93087 14.37518,0.13956 0.0698,-3.62869 31.4021,-0.0698 0.0698,3.55891 62.24593,-0.20935 0.0698,2.7913 104.883,-0.27913 -0.13957,-4.46608 h 12.07236 l -0.0698,4.74521 48.01031,0.20934 -0.0698,-5.23368 15.70105,0.20935 0.0698,5.23368 h 9.83932 l 1.53522,-0.0698 119.88622,101.04496 2.7913,-2.93086 -11.5141,-10.7465 22.6793,-26.79645 -1.7445,-1.25608 -1.1165,1.04673 -9.0718,-7.60628 1.3259,-1.32587 -29.3784,-24.84254 -1.3259,1.46543 -9.7695,-8.65303 1.3956,-1.67477 -26.3079,-21.77212 10.1184,-12.14215 26.7267,22.67929 1.3259,-1.53521 8.7228,8.37389 -0.8374,1.1863 29.3784,24.6332 1.5352,-1.60499 9.2113,7.60628 -1.5352,1.46543 29.5179,24.6332 1.1863,-1.1863 8.7926,7.67607 0.2791,0.13956 -1.1165,1.11652 1.3259,1.25609 1.2561,-1.32587 9.0019,7.5365 -1.1165,1.11652 29.8669,25.33102 1.0467,-1.1863 9.1415,7.88542 -0.977,1.11652 27.0059,22.53972 -10.8861,12.42128 -26.5173,-22.81886 -1.3259,1.32587 -8.8624,-7.39694 1.2561,-1.39565 -29.7971,-24.91233 -0.9769,1.11652 -9.1415,-7.39694 1.256,-1.39565 -2.0236,-1.39565 -22.7491,27.56407 -12.2817,-10.53715 -2.8611,3.83803 135.7268,113.74537 2.582,-2.37261 9.2113,7.88542 -2.1633,2.09347 5.7222,5.37325 2.861,-2.58195 10.2581,8.30411 -2.3726,3.27977 15.7708,12.77019 -20.9347,23.4469 -127.0041,-106.55778 -32.3092,39.00838 -16.9572,-13.95649 9.3509,-20.44625 -36.2171,-30.28557 14.7241,-17.16648 -17.0967,-14.02627 4.815,-5.30347 -101.88242,-84.92522 -234.12006,0.0698 v 2.16325 h -46.4751 v -2.16325 h -234.5388 l -101.74278,85.41369 5.09411,5.30347 -16.53843,14.09605 13.60757,16.25931 -35.58904,30.28557 8.65302,20.93473 -16.11974,13.67736 -32.65818,-39.14795 -126.86446,106.20887 z"
            id="path25" class="fl1"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1"
            d="m 312.15083,398.83461 58.7917,-49.58042 -29.20395,-33.28622 -16.64311,14.27051 13.67735,16.15463 -35.55415,30.35536 z"
            id="path86" class="fl1"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1"
            d="m 794.01304,279.8524 -0.71548,21.16842 30.00093,-0.44409 -0.41943,38.34 22.08128,3.35537 0.49344,-63.43124 z"
            id="path85" class="fl1"/><path
            style="display:inline;fill:#a7a082;fill-opacity:1"
            d="m 551.17654,340.60805 22.19082,-1.01184 0.31402,-38.72925 29.7622,-0.76761 0.0349,-20.34158 -52.33682,-0.34891 z"
            id="path84" class="fl1"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 548.70119,340.66843 0.7895,22.10595 55.26486,-0.39475 0.39475,37.89591 187.90055,0.39475 -1.18425,-38.29066 56.44912,0.39475 0.39474,-20.1322 -25.65868,-3.94749 0.39475,-38.29066 -30.00093,0.39475 0.7895,-22.89545 -2.76325,-0.78949 0.7895,-16.97421 -0.7895,-30.79043 -186.32155,0.7895 0.39475,46.58039 h -2.36849 v 23.29019 l -29.60618,0.7895 -0.39475,38.68541 z"
            id="path2" class="fl1"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 652.91493,398.69654 v 91.97653 l 91.97653,1.18425 0.39474,-93.55553 z"
            id="path1" class="fl1"/><path
            style="display:inline;fill:#ebebcd;fill-opacity:1"
            d="m 358.40257,181.71345 6.69912,-4.7452 10.3278,14.79387 -5.86173,4.74521 z"
            id="01" class="fl01"/></g>
            <path
          style="fill:#9dcffa"
          d="m 240.40217,367.11662 65.72572,-54.87012 -21.11908,-22.40201 5.4278,-4.73699 26.25081,29.60618 -70.56139,59.80448 z"
          id="p133-135" class="pa"/><path
          style="fill:#9dcffa"
          d="m 337.74697,334.4672 -18.70169,-22.05125 -6.90846,6.00129 -27.28493,-28.47123 5.44303,-4.81499 20.58582,22.88864 8.51345,-7.04803 24.42385,28.6108 z"
          id="p132-135" class="pa"/><path
          style="fill:#9dcffa"
          d="m 337.60741,334.39742 -18.56213,-21.91169 -72.99242,61.9668 -5.5826,-7.25737 78.99371,-66.15375 24.28429,28.47124 z"
          id="p132-133" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 377.23206,252.56538 -136.63252,114.35386 5.52649,7.50023 136.48449,-115.95753 z"
          id="p131-133" class="pa"/><path
          style="fill:#9dcffa"
          d="m 377.18272,252.63939 -66.21916,55.46224 -20.72432,-22.99413 -5.4278,4.83568 27.33637,28.42193 70.26533,-59.7058 z"
          id="p131-135" class="pa"/><path
          style="fill:#9dcffa"
          d="m 377.08403,252.63939 -63.5546,53.19244 24.17838,28.71799 6.2173,-4.93436 -18.94796,-22.30333 57.13993,-48.45544 z"
          id="p131-132" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 377.05037,252.66794 57.27775,-44.83982 16.62923,-0.23704 0.19887,-24.53881 4.5962,-0.0221 -0.0663,32.52691 -17.52207,-0.22896 -55.88281,43.4375 z"
          id="p131-150" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 479.81884,207.24914 27.8328,-0.0187 0.29002,-23.80523 h 6.90441 l 0.27131,32.61349 -35.36403,-0.14968 z"
          id="p130-149" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 479.92868,207.25382 -0.13957,8.65303 -41.61767,-0.57124 -55.65961,43.42239 -5.4278,-6.11861 57.23861,-44.80402 z"
          id="p130-131" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 480.03866,207.27318 -24.3104,0.27066 v -24.47415 l -4.56552,0.0748 -0.29938,32.33283 29.48874,0.11227 z"
          id="p130-150" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 728.41983,207.74949 0.0926,8.22954 30.1926,-0.15877 -0.63507,-42.65599 -6.03323,0.21169 0.95261,33.87076 z"
          id="p129-151" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1166.7795,392.23252 7.5193,-8.70827 -85.5533,-71.03852 22.1908,-28.05254 -5.0941,-4.18694 -27.913,34.96099 z"
          id="p111-113" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1166.6808,392.18318 -96.9161,-84.44266 -15.4917,21.91169 -5.1639,-3.76825 21.2138,-29.02949 104.1154,86.80934 z"
          id="p110-111" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1018.1565,253.62626 65.4296,54.47537 22.3034,-27.82981 5.033,4.24356 -27.7311,35.03397 -70.364,-61.38347 z"
          id="p109-113" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1013.9129,258.56063 -56.44909,-43.12634 -13.42147,-0.0987 -0.98687,-29.21142 6.90811,-0.29607 0.69081,21.11908 9.2766,-0.0987 58.42291,46.67907 z"
          id="p109-152" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1018.0578,253.72495 156.241,129.7993 -7.5365,8.65302 L 1012.6827,258.195 Z"
          id="p109-111" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 1012.6827,258.26478 52.5476,45.5933 -16.086,21.80988 5.1317,3.84881 20.7243,-28.61931 -56.9425,-47.36989 z"
          id="p109-110" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 917.08072,207.39339 -25.95907,-0.13957 0.13957,-21.35342 -8.37389,0.13956 0.55826,29.86688 33.77469,-0.13956 z"
          id="p108-126" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 916.90335,207.14456 43.02764,-0.29606 58.52151,46.77776 -4.4409,5.03305 -56.64648,-43.12633 h -40.36309 z"
          id="p108-109" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 917.04583,207.39339 26.60177,-0.34752 -0.59213,-20.92169 7.0068,-0.19738 0.88818,29.70487 -33.84973,-0.0987 z"
          id="p108-152" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 799.36682,207.39128 0.0987,8.53645 91.93527,-0.30002 V 185.9004 l -8.37389,-0.13957 0.69783,21.63256 z"
          id="p107-126" class="pa"/><rect
          style="fill:#9dcffa"
          width="118.21144"
          height="8.6530218"
          x="799.00885"
          y="207.25383"
          id="p107-108" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 799.24412,207.24672 -40.69495,0.37197 -0.52391,-34.4659 -6.06241,0.24324 1.08525,42.45555 46.08551,-0.13097 z"
          id="p107-129" class="pa"/><rect
          style="fill:#9dcffa;fill-opacity:1;stroke-width:1.09138"
          width="118.52343"
          height="8.698514"
          x="479.71878"
          y="207.22923"
          id="p106-130" class="pa"/><rect
          style="fill:#9dcffa"
          width="201.39207"
          height="8.6530085"
          x="598.03546"
          y="207.25383"
          id="p106-107" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 598.13648,207.29964 46.12511,0.31905 0.29938,-42.362 h 7.18507 l -0.44906,50.59489 -53.43899,-0.29937 z"
          id="p106-148" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 598.13648,207.35257 130.40243,0.42338 0.10584,8.15015 -130.5612,-0.4763 z"
          id="p106-151" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 598.23221,207.24446 -83.18495,0.10811 -0.21169,-23.92123 h -6.88 l -0.42338,32.60061 90.9994,-0.10552 z"
          id="p106-149" class="pa"/><path
          style="fill:#9dcffa"
          d="m 597.96566,207.32361 103.48735,0.62804 v 47.45205 h -7.5365 l -0.83739,-39.07816 -96.02063,-1.11652 z"
          id="p105-106"
          sodipodi:insensitive="true" class="pa"/><path
          style="fill:#9dcffa"
          d="m 693.96883,255.40263 -0.7895,-47.56726 106.38487,-0.39475 0.19737,8.28973 h -98.29251 l 0.19737,39.47491 z"
          id="p105-107" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.88351,255.59402 -0.74845,-48.34956 35.8131,0.48649 -0.0748,8.30774 -27.46794,-0.11226 0.0374,39.66759 z"
          id="p105-151" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.87014,255.0819 0.19737,35.84815 106.75568,-0.0769 -0.27913,-7.25738 -98.5328,-0.27913 -0.27913,-28.75036 z"
          id="p104-105" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.89481,255.35329 7.77162,-0.1727 -0.19738,59.03965 h -7.6976 z"
          id="p103-105" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 701.46876,314.21747 0.0794,-23.32585 99.28366,-0.0794 -0.18523,-7.19754 -106.87534,-0.27207 -0.0187,30.85465 z"
          id="p103-104" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.87014,255.10657 0.0987,27.139 -101.64788,0.98687 v 9.2766 l 110.33236,-1.77637 -1.18425,-35.72479 z"
          id="p102-105"  class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.75522,314.2307 v -23.37877 l -101.45351,1.65385 0.0265,-9.27477 110.0689,-1.01105 -0.91685,31.97732 z"
          id="p102-103" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 799.15232,207.43158 -128.72294,0.55606 0.0529,8.09723 128.92058,-0.37046 z"
          id="p101-107" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 670.79397,215.73932 0.0187,-8.17677 -19.45957,-0.0187 0.39293,-42.36199 -7.29734,0.0748 -0.11226,50.59489 z"
          id="p101-148" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.84608,255.29464 -0.78586,-39.03141 -22.34109,-0.56134 -0.0187,-8.15805 30.42434,-0.2442 0.52386,47.41496 z"
          id="p101-105" class="pa"/><path
          style="fill:#9dcffa;fill-opacity:1"
          d="m 693.82138,314.04547 -0.31754,159.7218 7.62092,-0.42338 0.21169,-159.51012 z"
          id="p100-103" class="pa"/>
         <!-- <> -->
         <path
         style="fill:#9dcffa"
         d="m 240.40217,367.11662 65.72572,-54.87012 -21.11908,-22.40201 5.4278,-4.73699 26.25081,29.60618 -70.56139,59.80448 z"
         id="p135-133" class="pa"/><path
         style="fill:#9dcffa"
         d="m 337.74697,334.4672 -18.70169,-22.05125 -6.90846,6.00129 -27.28493,-28.47123 5.44303,-4.81499 20.58582,22.88864 8.51345,-7.04803 24.42385,28.6108 z"
         id="p135-132" class="pa"/><path
         style="fill:#9dcffa"
         d="m 337.60741,334.39742 -18.56213,-21.91169 -72.99242,61.9668 -5.5826,-7.25737 78.99371,-66.15375 24.28429,28.47124 z"
         id="p133-132" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 377.23206,252.56538 -136.63252,114.35386 5.52649,7.50023 136.48449,-115.95753 z"
         id="p133-131" class="pa"/><path
         style="fill:#9dcffa"
         d="m 377.18272,252.63939 -66.21916,55.46224 -20.72432,-22.99413 -5.4278,4.83568 27.33637,28.42193 70.26533,-59.7058 z"
         id="p135-131" class="pa"/><path
         style="fill:#9dcffa"
         d="m 377.08403,252.63939 -63.5546,53.19244 24.17838,28.71799 6.2173,-4.93436 -18.94796,-22.30333 57.13993,-48.45544 z"
         id="p132-131" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 377.05037,252.66794 57.27775,-44.83982 16.62923,-0.23704 0.19887,-24.53881 4.5962,-0.0221 -0.0663,32.52691 -17.52207,-0.22896 -55.88281,43.4375 z"
         id="p150-131" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 479.81884,207.24914 27.8328,-0.0187 0.29002,-23.80523 h 6.90441 l 0.27131,32.61349 -35.36403,-0.14968 z"
         id="p149-130" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 479.92868,207.25382 -0.13957,8.65303 -41.61767,-0.57124 -55.65961,43.42239 -5.4278,-6.11861 57.23861,-44.80402 z"
         id="p131-130" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 480.03866,207.27318 -24.3104,0.27066 v -24.47415 l -4.56552,0.0748 -0.29938,32.33283 29.48874,0.11227 z"
         id="p150-130" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 728.41983,207.74949 0.0926,8.22954 30.1926,-0.15877 -0.63507,-42.65599 -6.03323,0.21169 0.95261,33.87076 z"
         id="p151-129" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1166.7795,392.23252 7.5193,-8.70827 -85.5533,-71.03852 22.1908,-28.05254 -5.0941,-4.18694 -27.913,34.96099 z"
         id="p113-111" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1166.6808,392.18318 -96.9161,-84.44266 -15.4917,21.91169 -5.1639,-3.76825 21.2138,-29.02949 104.1154,86.80934 z"
         id="p111-110" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1018.1565,253.62626 65.4296,54.47537 22.3034,-27.82981 5.033,4.24356 -27.7311,35.03397 -70.364,-61.38347 z"
         id="p113-109" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1013.9129,258.56063 -56.44909,-43.12634 -13.42147,-0.0987 -0.98687,-29.21142 6.90811,-0.29607 0.69081,21.11908 9.2766,-0.0987 58.42291,46.67907 z"
         id="p152-109" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1018.0578,253.72495 156.241,129.7993 -7.5365,8.65302 L 1012.6827,258.195 Z"
         id="p111-109" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 1012.6827,258.26478 52.5476,45.5933 -16.086,21.80988 5.1317,3.84881 20.7243,-28.61931 -56.9425,-47.36989 z"
         id="p110-109" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 917.08072,207.39339 -25.95907,-0.13957 0.13957,-21.35342 -8.37389,0.13956 0.55826,29.86688 33.77469,-0.13956 z"
         id="p126-108" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 916.90335,207.14456 43.02764,-0.29606 58.52151,46.77776 -4.4409,5.03305 -56.64648,-43.12633 h -40.36309 z"
         id="p109-108" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 917.04583,207.39339 26.60177,-0.34752 -0.59213,-20.92169 7.0068,-0.19738 0.88818,29.70487 -33.84973,-0.0987 z"
         id="p152-108" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 799.36682,207.39128 0.0987,8.53645 91.93527,-0.30002 V 185.9004 l -8.37389,-0.13957 0.69783,21.63256 z"
         id="p126-107" class="pa"/><rect
         style="fill:#9dcffa"
         width="118.21144"
         height="8.6530218"
         x="799.00885"
         y="207.25383"
         id="p108-107" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 799.24412,207.24672 -40.69495,0.37197 -0.52391,-34.4659 -6.06241,0.24324 1.08525,42.45555 46.08551,-0.13097 z"
         id="p129-107" class="pa"/><rect
         style="fill:#9dcffa;fill-opacity:1;stroke-width:1.09138"
         width="118.52343"
         height="8.698514"
         x="479.71878"
         y="207.22923"
         id="p130-106" class="pa"/><rect
         style="fill:#9dcffa"
         width="201.39207"
         height="8.6530085"
         x="598.03546"
         y="207.25383"
         id="p107-106" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 598.13648,207.29964 46.12511,0.31905 0.29938,-42.362 h 7.18507 l -0.44906,50.59489 -53.43899,-0.29937 z"
         id="p148-106" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 598.13648,207.35257 130.40243,0.42338 0.10584,8.15015 -130.5612,-0.4763 z"
         id="p151-106" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 598.23221,207.24446 -83.18495,0.10811 -0.21169,-23.92123 h -6.88 l -0.42338,32.60061 90.9994,-0.10552 z"
         id="p149-106" class="pa"/><path
         style="fill:#9dcffa"
         d="m 597.96566,207.32361 103.48735,0.62804 v 47.45205 h -7.5365 l -0.83739,-39.07816 -96.02063,-1.11652 z"
         id="p106-105-"
         sodipodi:insensitive="true" class="pa"/><path
         style="fill:#9dcffa"
         d="m 693.96883,255.40263 -0.7895,-47.56726 106.38487,-0.39475 0.19737,8.28973 h -98.29251 l 0.19737,39.47491 z"
         id="p107-105" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.88351,255.59402 -0.74845,-48.34956 35.8131,0.48649 -0.0748,8.30774 -27.46794,-0.11226 0.0374,39.66759 z"
         id="p151-105" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.87014,255.0819 0.19737,35.84815 106.75568,-0.0769 -0.27913,-7.25738 -98.5328,-0.27913 -0.27913,-28.75036 z"
         id="p105-104" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.89481,255.35329 7.77162,-0.1727 -0.19738,59.03965 h -7.6976 z"
         id="p105-103" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 701.46876,314.21747 0.0794,-23.32585 99.28366,-0.0794 -0.18523,-7.19754 -106.87534,-0.27207 -0.0187,30.85465 z"
         id="p104-103" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.87014,255.10657 0.0987,27.139 -101.64788,0.98687 v 9.2766 l 110.33236,-1.77637 -1.18425,-35.72479 z"
         id="p105-102"  class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.75522,314.2307 v -23.37877 l -101.45351,1.65385 0.0265,-9.27477 110.0689,-1.01105 -0.91685,31.97732 z"
         id="p103-102" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 799.15232,207.43158 -128.72294,0.55606 0.0529,8.09723 128.92058,-0.37046 z"
         id="p107-101" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 670.79397,215.73932 0.0187,-8.17677 -19.45957,-0.0187 0.39293,-42.36199 -7.29734,0.0748 -0.11226,50.59489 z"
         id="p148-101" class="pa"/><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.84608,255.29464 -0.78586,-39.03141 -22.34109,-0.56134 -0.0187,-8.15805 30.42434,-0.2442 0.52386,47.41496 z"
         id="p105-101" class="pa" /><path
         style="fill:#9dcffa;fill-opacity:1"
         d="m 693.82138,314.04547 -0.31754,159.7218 7.62092,-0.42338 0.21169,-159.51012 z"
         id="p103-100" class="pa" />
         </svg>
</div>
    <!-- Include jsQR library -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <script>
        // Handle QR Code Scanning
        const scanButton = document.getElementById('scanButton');
        const qrScreen = document.getElementById('qrScreen');
        const endNodeScreen = document.getElementById('endNodeScreen');
        const camera = document.getElementById('camera');
        const scanMessage = document.getElementById('scanMessage');
        const pathForm = document.getElementById('pathForm');
        const pathInfo = document.getElementById('pathInfo');
        const currentStep = document.getElementById('currentStep');
        const nextButton = document.getElementById('nextButton');
        const endDropdown = document.getElementById('end'); // Dropdown for the end node
    
        let startNode = null;
    
        // Start Camera for QR Scanning
        function startCamera() {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(stream => {
                    camera.srcObject = stream;
                    camera.style.display = 'block';
                    scanMessage.textContent = 'Scanning for QR code...';
                    requestAnimationFrame(scanQR);
                })
                .catch(err => {
                    alert('Error accessing the camera: ' + err);
                });
        }
    
        // Stop Camera
        function stopCamera() {
            const stream = camera.srcObject;
            if (stream) {
                const tracks = stream.getTracks();
                tracks.forEach(track => track.stop());
            }
            camera.style.display = 'none';
        }
    
        // Scan QR Code
        function scanQR() {
            if (camera.readyState === camera.HAVE_ENOUGH_DATA) {
                const canvas = document.createElement('canvas');
                canvas.width = camera.videoWidth;
                canvas.height = camera.videoHeight;
                const context = canvas.getContext('2d');
                context.drawImage(camera, 0, 0, canvas.width, canvas.height);
    
                const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
                const code = jsQR(imageData.data, imageData.width, imageData.height);
    
                if (code) {
                    startNode = parseInt(code.data, 10);
                    if (!isNaN(startNode)) {
                        stopCamera();
                        qrScreen.style.display = 'none';
                        endNodeScreen.style.display = 'block';
                        populateDropdown(); // Populate the dropdown when moving to the next screen
                    } else {
                        scanMessage.textContent = 'Invalid QR code data. Try again.';
                    }
                    return;
                }
            }
            requestAnimationFrame(scanQR);
        }
    
        // Add Event Listener for QR Button
        scanButton.addEventListener('click', startCamera);
    
        async function populateDropdown() {
            try {
                const response = await fetch('/get-staff-locations');
                const data = await response.json();
    
                if (data.error) {
                    alert(data.error);
                    return;
                }
                const dropdownMenu = document.getElementById('dropdownMenu');
                dropdownMenu.innerHTML = ''; // Reset dropdown menu
    
                data.staff.forEach(staff => {
                    const div = document.createElement('div');
                    div.className = 'dropdown-item';
                    div.textContent = staff.name;
                    div.setAttribute('data-location', staff.location); // Store the location in a data attribute
                    div.onclick = function () {
                        selectEndNode(staff.name, staff.location);
                    };
                    dropdownMenu.appendChild(div);
                });
            } catch (error) {
                console.error('Error fetching staff locations:', error);
            }
        }
    
        function selectEndNode(name, location) {
            const searchBar = document.getElementById('searchBar');
            const selectedEndNodeInput = document.getElementById('selectedEndNode');
            const dropdownMenu = document.getElementById('dropdownMenu');
    
            searchBar.value = name;
            selectedEndNodeInput.value = location; // Store the location as the selected value
            dropdownMenu.style.display = 'none'; // Hide the dropdown
        }
    
        function filterDropdown() {
            const query = document.getElementById('searchBar').value.toLowerCase();
            const items = document.getElementById('dropdownMenu').getElementsByClassName('dropdown-item');
    
            for (let item of items) {
                if (item.textContent.toLowerCase().includes(query)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            }
        }
    
        document.getElementById('searchBar').addEventListener('focus', () => {
            document.getElementById('dropdownMenu').style.display = 'block';
        });
    
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.dropdown-container')) {
                document.getElementById('dropdownMenu').style.display = 'none';
            }
        });
    
        // Handle Path Form Submission
        document.addEventListener('DOMContentLoaded', (event) => {
            const pathForm = document.getElementById('pathForm');
            pathForm.addEventListener('submit', async function (event) {
                event.preventDefault();
                const start = startNode || parseInt(document.getElementById('start').value, 10);
                const endElement = document.getElementById('selectedEndNode');
                if (!endElement) {
                    console.error('End element not found');
                    pathInfo.textContent = 'Error: End element not found.';
                    return;
                }
                const end = parseInt(endElement.value, 10);
                const svgContainer = document.getElementById('svgContainer');
                svgContainer.style.display = 'block';
    
                if (isNaN(start) || isNaN(end)) {
                    pathInfo.textContent = 'Error: Invalid start or end node.';
                    return;
                }
    
                pathInfo.innerHTML = 'Calculating...';
                currentStep.innerHTML = '';
                nextButton.style.display = 'none';
    
                try {
                    const response = await fetch('/shortest-path', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ start, end })
                    });
    
                    const data = await response.json();
    
                    if (data.error) {
                        pathInfo.innerHTML = 'Error: ' + data.error;
                    } else {
                        pathInfo.innerHTML = `
                            <p>Shortest Path: ${data.path.join(' -> ')}</p>
                            <p>Total Distance: ${data.distance} units</p>
                        `;
    
                        let directions = data.directions;
                        let currentStepIndex = 0;
                        let floor = Math.floor(data.path[0] / 100);
                        function showElement(element) {
                            if (element) {
                                element.style.display = 'inline'; // Immediately show the element
                            }
                        }

                        function hideElement(element) {
                            if (element) {
                                element.style.display = 'none'; // Immediately hide the element
                            }
                        }

                        function showFloor(floor) {
                            // Hide all floors
                            const allFloors = document.querySelectorAll('.floor');
                            allFloors.forEach(floorElement => hideElement(floorElement));

                            // Show the specific floor
                            const floorElement = document.getElementById(`f${floor}`);
                            showElement(floorElement);
                        }

                        function showMap(currentStepIndex) {
                            // Ensure the floor corresponds to the current step
                            const currentFloor = Math.floor(data.path[currentStepIndex] / 100);
                            showFloor(currentFloor);

                            // Hide all path elements
                            const allPaths = document.querySelectorAll('.pa');
                            allPaths.forEach(pathElement => hideElement(pathElement));

                            // Show paths for the current floor
                            for (let i = currentStepIndex; i < data.path.length - 1; i++) {
                                if (Math.floor(data.path[i + 1] / 100) === currentFloor) {
                                    const pathId = `p${data.path[i]}-${data.path[i + 1]}`;
                                    const pathElement = document.getElementById(pathId);
                                    showElement(pathElement);
                                }
                            }
                        }

                        function showNextStep() {
                            if (currentStepIndex < directions.length) {
                                const currentFloor = Math.floor(data.path[currentStepIndex] / 100);

                                // If the floor changes, update the map
                                if (Math.floor(data.path[currentStepIndex] / 100) !== floor) {
                                    floor = currentFloor;
                                    showMap(currentStepIndex);
                                }

                                const directionText = `Node ${data.path[currentStepIndex + 1]}: ${directions[currentStepIndex]}`;
                                currentStep.innerHTML = directionText;
                                speak(directionText);

                                currentStepIndex++;
                            } else {
                                currentStep.innerHTML = 'You have reached your destination!';
                                nextButton.style.display = 'none';
                            }
                        }

                        function speak(text) {
                            const utterance = new SpeechSynthesisUtterance(text);
                            window.speechSynthesis.speak(utterance);
                        }

                        // Initialize the map and navigation
                        showMap(0);
                        showNextStep();
                        nextButton.style.display = 'inline';
                        nextButton.onclick = showNextStep;
                    }
                } catch (error) {
                    pathInfo.innerHTML = 'Error: Unable to fetch data from the backend.';
                }
            });
        });
    </script>
    

</body>
</html>
